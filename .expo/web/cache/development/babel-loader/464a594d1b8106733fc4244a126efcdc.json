{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"/Users/sx/Documents/React Native/Foren Tech/consumer_latest/screens/promotionServices.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport { AsyncStorage } from \"react-native-web/dist/index\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport BackHandler from \"react-native-web/dist/exports/BackHandler\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport { Container, Accordion, Title, Header, Content, Text, Left, Toast, Right, Footer } from \"native-base\";\nimport { Ionicons } from \"@expo/vector-icons\";\nimport { LinearGradient } from \"expo-linear-gradient\";\nimport VarientbaseJob from \"./jobs/varientbaseJob\";\nimport SizebaseJob from \"./jobs/sizebaseJob\";\nimport DecoCategory from \"./jobs/DecoCategory\";\nimport Cleaning from \"./jobs/Cleaning\";\nimport SelectableJob from \"./jobs/selectableJob\";\nimport QuantitybaseJob from \"./jobs/quantitybaseJob\";\nimport * as Analytics from \"expo-firebase-analytics\";\nimport SecuritybaseJobs from \"./jobs/SecuritybaseJobs\";\n\nvar PromotionService = function (_React$Component) {\n  _inherits(PromotionService, _React$Component);\n\n  var _super = _createSuper(PromotionService);\n\n  function PromotionService(props) {\n    var _this;\n\n    _classCallCheck(this, PromotionService);\n\n    _this = _super.call(this, props);\n\n    _this.componentDidMount = function _callee() {\n      var navigation, jobs, lan;\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              navigation = _this.props.navigation;\n\n              _this.getServiceObj(navigation.getParam(\"serviceid\"));\n\n              _context.next = 4;\n              return _regeneratorRuntime.awrap(AsyncStorage.getItem(\"jobs\"));\n\n            case 4:\n              jobs = _context.sent;\n\n              _this.setState({\n                lan: navigation.getParam(\"lan\"),\n                selectedServices: jobs !== null ? JSON.parse(jobs) : []\n              });\n\n              _context.next = 8;\n              return _regeneratorRuntime.awrap(AsyncStorage.getItem(\"lan\"));\n\n            case 8:\n              lan = _context.sent;\n\n              _this.setState({\n                lan: lan\n              });\n\n              BackHandler.addEventListener(\"hardwareBackPress\", _this.handleBackButtonClick);\n\n            case 11:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this.getServiceObj = function (serviceid) {\n      fetch(\"http://ec2-13-234-48-248.ap-south-1.compute.amazonaws.com/wf/v1.2/get_service_object\", {\n        method: \"POST\",\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          serviceid: serviceid\n        })\n      }).then(function (response) {\n        return response.json();\n      }).then(function (responseJson) {\n        if (responseJson.error == false) {\n          _this.setState({\n            services: responseJson.services\n          });\n\n          console.log(\"service-----\", _this.state.services);\n        }\n      }).catch(function (error) {\n        _this.setState({\n          loading: false\n        });\n      });\n    };\n\n    _this.handleBackButtonClick = function () {\n      _this.props.navigation.navigate(\"LandingSecreen\");\n\n      return true;\n    };\n\n    _this.componentWillUnmount = function () {\n      BackHandler.removeEventListener(\"hardwareBackPress\", _this.handleBackButtonClick);\n    };\n\n    _this._renderHeader = function (data, expanded) {\n      return React.createElement(View, {\n        style: {\n          flexDirection: \"row\",\n          padding: 10,\n          backgroundColor: expanded ? \"#d8d8d8\" : \"#F5F5F5\",\n          alignSelf: \"center\",\n          width: Dimensions.get(\"screen\").width - 30,\n          height: 67,\n          borderWidth: 1,\n          borderBottomColor: \"lightgray\"\n        },\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 802,\n          columnNumber: 7\n        }\n      }, React.createElement(Left, {\n        style: {\n          flexDirection: \"row\"\n        },\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 814,\n          columnNumber: 9\n        }\n      }, React.createElement(Image, {\n        source: {\n          uri: data.seo_name !== null ? data.seo_name : \"https://firebasestorage.googleapis.com/v0/b/foren-se-customers.appspot.com/o/image-placeholder.png?alt=media&token=10ced05a-f905-4951-9298-ff47e771f070\"\n        },\n        style: {\n          width: 45,\n          height: 45,\n          marginTop: 4\n        },\n        resizeMode: \"contain\",\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 815,\n          columnNumber: 11\n        }\n      }), React.createElement(View, {\n        style: {\n          marginTop: 4\n        },\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 829,\n          columnNumber: 11\n        }\n      }, React.createElement(Text, {\n        style: {\n          fontSize: 13,\n          textAlign: \"left\",\n          marginLeft: 12,\n          width: Dimensions.get(\"screen\").width - 30,\n          color: \"#0865b0\"\n        },\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 830,\n          columnNumber: 13\n        }\n      }, _this.state.lan == \"en\" ? data.name : data.name_ar), React.createElement(View, {\n        style: {\n          flexDirection: \"row\"\n        },\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 843,\n          columnNumber: 13\n        }\n      }, React.createElement(Text, {\n        style: {\n          color: \"#4a4b4c\",\n          fontSize: 11,\n          marginLeft: 12,\n          marginRight: 10\n        },\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 844,\n          columnNumber: 15\n        }\n      }, _this.state.lan == \"en\" ? \"Total Services\" : \"مجموع الخدمات\"), React.createElement(View, {\n        style: {\n          backgroundColor: \"#0865b0\",\n          marginLeft: 5,\n          paddingLeft: 4,\n          paddingRight: 4\n        },\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 854,\n          columnNumber: 15\n        }\n      }, React.createElement(Text, {\n        style: {\n          color: \"white\",\n          fontSize: 10\n        },\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 862,\n          columnNumber: 17\n        }\n      }, data.jobs ? data.jobs.length : 0))), React.createElement(Text, {\n        style: {\n          textAlign: \"left\",\n          color: \"#4a4b4c\",\n          fontSize: 10,\n          marginLeft: 12\n        },\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 867,\n          columnNumber: 13\n        }\n      }, _this.state.lan == \"en\" ? \"24/7 Booking\" : \"حجز على مدار الساعة\"))), React.createElement(Right, {\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 879,\n          columnNumber: 9\n        }\n      }, React.createElement(View, {\n        style: {\n          flexDirection: \"row\"\n        },\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 880,\n          columnNumber: 11\n        }\n      }, expanded ? React.createElement(Ionicons, {\n        style: {\n          fontSize: 24\n        },\n        name: \"ios-chevron-down\",\n        color: \"#0865b0\",\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 887,\n          columnNumber: 15\n        }\n      }) : React.createElement(Ionicons, {\n        style: {\n          fontSize: 24\n        },\n        name: _this.state.lan == \"en\" ? \"chevron-forward-outline\" : \"chevron-back-outline\",\n        color: \"#0865b0\",\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 893,\n          columnNumber: 15\n        }\n      }))));\n    };\n\n    _this.minusMeters = function (job) {\n      if (job.meter && job.meter >= 50) {\n        job.meter = job.meter - 50;\n        job.m_price = job.meter * job.price;\n      } else {\n        job.meter = 0;\n        job.m_price = job.meter * job.price;\n      }\n\n      if (job.items) {\n        job.t_price = job.items * job.m_price;\n      } else {\n        job.items = 1;\n        job.t_price = job.items * job.m_price;\n      }\n\n      _this.setState({\n        isRefresh: !_this.state.isRefresh\n      });\n    };\n\n    _this.plusMeters = function (job) {\n      if (job.meter) {\n        job.meter = job.meter + 50;\n        job.m_price = job.meter * job.price;\n      } else {\n        job.meter = 50;\n        job.m_price = job.meter * job.price;\n      }\n\n      if (job.items) {\n        job.t_price = job.items * job.m_price;\n      } else {\n        job.items = 1;\n        job.t_price = job.items * job.m_price;\n      }\n\n      _this.setState({\n        isRefresh: !_this.state.isRefresh\n      });\n    };\n\n    _this.plusFloors = function (job) {\n      if (job.items) {\n        job.items++;\n      } else {\n        job.items = 1;\n      }\n\n      if (job.m_price) {\n        job.t_price = job.items * job.m_price;\n      } else {\n        job.meter = 50;\n        job.m_price = job.meter * job.price;\n        job.t_price = job.items * job.m_price;\n      }\n\n      job.selected = true;\n\n      _this.addRemoveIntoSelectedServices(job, true);\n    };\n\n    _this.minusFloors = function (job) {\n      if (job.items && job.items >= 1) {\n        job.items--;\n\n        if (job.m_price) {\n          job.t_price = job.items * job.m_price;\n        } else {\n          job.meter = 50;\n          job.m_price = job.meter * job.price;\n          job.t_price = job.items * job.m_price;\n        }\n\n        _this.addRemoveIntoSelectedServices(job, true);\n      } else {\n        job.items = 0;\n        job.t_price = 0;\n        job.meter = 0;\n        job.m_price = 0;\n        job.selected = false;\n\n        _this.addRemoveIntoSelectedServices(job, false);\n      }\n    };\n\n    _this.cahngeToolTip = function (tIndex) {\n      if (_this.state.toolTipVisible == -1) {\n        _this.setState({\n          toolTipVisible: tIndex\n        });\n      } else {\n        _this.setState({\n          toolTipVisible: -1\n        });\n      }\n    };\n\n    _this._renderContent = function (data) {\n      console.log(\"data\", data, \"jobs \", data.jobs[5]);\n      return React.createElement(View, {\n        style: {\n          width: Dimensions.get(\"screen\").width,\n          alignSelf: \"center\"\n        },\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 988,\n          columnNumber: 7\n        }\n      }, data.jobs && data.jobs.map(function (job, index) {\n        console.log(\"job \", job);\n\n        if (job.pricetype == 1) {\n          return React.createElement(QuantitybaseJob, {\n            job: job,\n            lan: this.state.lan,\n            key: index,\n            index: index,\n            plus: this.plusQuantity,\n            minus: this.minusQuantity,\n            toolTipVisible: this.state.toolTipVisible,\n            cahngeToolTip: this.cahngeToolTip,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1000,\n              columnNumber: 19\n            }\n          });\n        }\n\n        if (job.pricetype == 2) {\n          return React.createElement(SelectableJob, {\n            lan: this.state.lan,\n            job: job,\n            index: index,\n            key: index,\n            selectJob: this.selectJob,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1014,\n              columnNumber: 19\n            }\n          });\n        }\n\n        if (job.pricetype == 5) {\n          return React.createElement(VarientbaseJob, {\n            lan: this.state.lan,\n            job: job,\n            index: index,\n            key: index,\n            plusVarient: this.plusVarient,\n            minusVarient: this.minusVarient,\n            calculateVarient: this.calculateVarient,\n            calculateSubVariant: this.calculateSubVariant,\n            plus: this.plusQuantity,\n            minus: this.minusQuantity,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1025,\n              columnNumber: 19\n            }\n          });\n        }\n\n        if (job.pricetype == 6) {\n          return React.createElement(SizebaseJob, {\n            plusMeters: this.plusMeters,\n            minusMeters: this.minusMeters,\n            plusFloors: this.plusFloors,\n            index: index,\n            minusFloors: this.minusFloors,\n            lan: this.state.lan,\n            job: job,\n            key: index,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1041,\n              columnNumber: 19\n            }\n          });\n        }\n\n        if (job.pricetype == 7) {\n          return React.createElement(DecoCategory, {\n            lan: this.state.lan,\n            job: job,\n            index: index,\n            key: index,\n            selectJob: this.selectJob,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1055,\n              columnNumber: 19\n            }\n          });\n        }\n\n        if (job.pricetype == 8) {\n          return React.createElement(SecuritybaseJobs, {\n            job: job,\n            cahngeToolTip: this.cahngeToolTip,\n            index: index,\n            toolTipVisible: this.state.toolTipVisible,\n            lan: this.state.lan,\n            key: index,\n            plus: this.plusQuantity,\n            minus: this.minusQuantity,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1066,\n              columnNumber: 19\n            }\n          });\n        }\n\n        if (job.pricetype == 9) {\n          return React.createElement(Cleaning, {\n            lan: this.state.lan,\n            job: job,\n            index: index,\n            key: index,\n            selectJob: this.selectJob,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1080,\n              columnNumber: 19\n            }\n          });\n        }\n      }.bind(_assertThisInitialized(_this))));\n    };\n\n    _this.minusVarient = function (varient, job) {\n      if (job.selected && job.selected == true) {\n        var total = 0;\n        varient.variants_attr.forEach(function (var_attr) {\n          var_attr.attr.forEach(function (attr) {\n            if (attr.selected && attr.t_price) {\n              total = total + attr.t_price;\n            }\n          });\n        });\n        if (varient.items) varient.items--;else varient.items = 1;\n        varient.t_price = varient.items * total;\n\n        _this.addRemoveIntoSelectedServices(job, true);\n      }\n    };\n\n    _this.plusVarient = function (varient, job) {\n      if (job.selected && job.selected == true) {\n        var total = 0;\n        varient.variants_attr.forEach(function (var_attr) {\n          var_attr.attr.forEach(function (attr) {\n            if (attr.selected && attr.t_price) {\n              total = total + attr.t_price;\n            }\n          });\n        });\n        if (varient.items) varient.items++;else varient.items = 1;\n        varient.t_price = varient.items * total;\n\n        _this.addRemoveIntoSelectedServices(job, true);\n      }\n    };\n\n    _this.calculateSubVariant = function (attr, varient, job) {\n      if (job.selected && job.selected == true) {\n        varient.subvariants && varient.subvariants.forEach(function (subvariant) {\n          subvariant.subvariants_attr.forEach(function (sub_atr) {\n            sub_atr.attr.forEach(function (in_attr) {\n              if (in_attr.selected == true && in_attr.attr_type == attr.attr_type) {\n                in_attr.selected = false;\n              }\n            });\n          });\n        });\n        attr.selected = !attr.selected;\n\n        if (attr.attr_type == 1) {\n          attr.t_price = attr.selected && attr.selected == true ? attr.attr_price : 0;\n        }\n\n        varient.t_price = varient.items * attr.t_price ? attr.t_price : 0;\n        var copySelectedJobs = _this.state.selectedServices;\n\n        _this.setState({\n          selectedServices: copySelectedJobs\n        });\n      }\n    };\n\n    _this.calculateVarient = function (attr, varient, job) {\n      if (job.selected && job.selected == true) {\n        varient.variants_attr.forEach(function (var_attr) {\n          var_attr.attr.forEach(function (inner_attr) {\n            if (inner_attr.selected == true && inner_attr.attr_type == attr.attr_type) {\n              inner_attr.selected = false;\n            }\n          });\n        });\n        attr.selected = !attr.selected;\n\n        if (attr.attr_type == 1) {\n          attr.t_price = attr.selected && attr.selected == true ? attr.attr_price : 0;\n        }\n\n        if (attr.attr_price) {\n          varient.t_price = varient.items * attr.t_price;\n        }\n\n        var copySelectedJobs = _this.state.selectedServices;\n\n        _this.setState({\n          selectedServices: copySelectedJobs\n        });\n      }\n    };\n\n    _this.plusQuantity = function (job) {\n      if (job.items) job.items++;else job.items = 1;\n\n      if (job.id === 70 || job.id === 61 || job.id === 82) {\n        job.t_price = parseFloat(job.items > 1 ? job.saleprice : job.price) * job.items;\n      } else {\n        job.t_price = parseFloat(job.saleprice ? job.saleprice : job.price) * job.items;\n      }\n\n      job.selected = true;\n\n      _this.addRemoveIntoSelectedServices(job, true);\n    };\n\n    _this.minusQuantity = function (job) {\n      if (job.items && job.items >= 1) {\n        job.items--;\n\n        if (job.id === 70 || job.id === 61 || job.id === 82) {\n          job.t_price = parseFloat(job.items > 1 ? job.saleprice : job.price) * job.items;\n        } else {\n          job.t_price = parseFloat(job.saleprice ? job.saleprice : job.price) * job.items;\n        }\n\n        _this.addRemoveIntoSelectedServices(job, true);\n      } else {\n        job.items = 0;\n        job.t_price = 0;\n        job.selected = false;\n\n        _this.addRemoveIntoSelectedServices(job, false);\n      }\n    };\n\n    _this.selectJob = function (job) {\n      job.selected = !job.selected;\n      job.items = 1;\n      if (job.selected) job.t_price = job.saleprice ? job.saleprice : job.price;else job.t_price = 0;\n      if (job.selected) _this.addRemoveIntoSelectedServices(job, true);else _this.addRemoveIntoSelectedServices(job, false);\n    };\n\n    _this.addRemoveIntoSelectedServices = function _callee2(job, add) {\n      var allServices, index;\n      return _regeneratorRuntime.async(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              job.serviceId = _this.state.services.id, job.jobserviceName = _this.state.services.name, job.jobserviceNameAr = _this.state.services.name_ar, job.jobServiceIcon = _this.state.services.seo_name;\n              allServices = _this.state.selectedServices;\n              index = allServices.findIndex(function (service) {\n                return service.id === job.id;\n              });\n\n              if (add === false && job.items > 0) {\n                allServices.splice(index, 1);\n\n                _this.setState({\n                  selectedServices: allServices\n                });\n              }\n\n              if (add === true) {\n                if (job.items < 1) {\n                  allServices.splice(index, 1);\n\n                  _this.setState({\n                    selectedServices: allServices\n                  });\n                } else {\n                  if (index > -1) {\n                    allServices[index] = job;\n                  } else {\n                    allServices.push(job);\n                  }\n\n                  _this.setState({\n                    selectedServices: allServices\n                  });\n                }\n              }\n\n              _context2.next = 7;\n              return _regeneratorRuntime.awrap(AsyncStorage.setItem(\"jobs\", JSON.stringify(allServices)));\n\n            case 7:\n              _this.calculateTotalOrderPrices();\n\n            case 8:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this.calculateTotalOrderPrices = function () {\n      var total = 0;\n\n      _this.state.selectedServices.forEach(function (service) {\n        total = total + service.t_price;\n      });\n\n      _this.setState({\n        totalOrderPrice: total\n      });\n    };\n\n    _this.checkout = function _callee3() {\n      return _regeneratorRuntime.async(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              if (!(_this.state.selectedServices.length > 0)) {\n                _context3.next = 8;\n                break;\n              }\n\n              _context3.next = 3;\n              return _regeneratorRuntime.awrap(AsyncStorage.setItem(\"jobs\", JSON.stringify(_this.state.selectedServices)));\n\n            case 3:\n              _context3.next = 5;\n              return _regeneratorRuntime.awrap(Analytics.logEvent(_this.state.services.name, {\n                name: _this.state.services.name,\n                screen: \"promotionScreen\",\n                purpose: \"checkout order from categories screen\"\n              }));\n\n            case 5:\n              _this.props.navigation.navigate(\"MyCart\", {\n                lan: _this.state.lan,\n                isPackage: false\n              });\n\n              _context3.next = 9;\n              break;\n\n            case 8:\n              Toast.show({\n                text: _this.state.lan == \"en\" ? \"Select any service first to proceed\" : \"أختر اي خدمة للإستمرار\",\n                position: \"bottom\"\n              });\n\n            case 9:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this.state = {\n      services: [],\n      lan: \"en\",\n      services: {},\n      selectedServices: [],\n      totalOrderPrice: 0,\n      isRefresh: false,\n      toolTipVisible: -1\n    };\n    console.log(\"props ======\", _this.props.navigation.state.params);\n    return _this;\n  }\n\n  _createClass(PromotionService, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var navigation = this.props.navigation;\n      var lan = navigation.getParam(\"lan\");\n      return React.createElement(View, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1290,\n          columnNumber: 7\n        }\n      }, React.createElement(Header, {\n        style: {\n          marginTop: 0,\n          borderBottomWidth: 1,\n          borderBottomColor: \"#0866b0\",\n          backgroundColor: \"#ffffff\",\n          height: 60,\n          justifyContent: \"center\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1291,\n          columnNumber: 9\n        }\n      }, React.createElement(Left, {\n        style: {\n          marginLeft: 10\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1301,\n          columnNumber: 11\n        }\n      }, React.createElement(Ionicons, {\n        onPress: function onPress() {\n          return _this2.props.navigation.navigate(\"LandingSecreen\");\n        },\n        name: lan == \"en\" ? \"chevron-back-outline\" : \"chevron-forward-outline\",\n        size: 34,\n        color: \"#0866b0\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1302,\n          columnNumber: 13\n        }\n      })), React.createElement(View, {\n        style: {\n          flex: 2,\n          justifyContent: \"center\",\n          alignItems: \"center\",\n          position: Platform.OS === \"android\" ? \"absolute\" : \"relative\",\n          alignSelf: \"center\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1311,\n          columnNumber: 11\n        }\n      }, React.createElement(Title, {\n        style: {\n          fontFamily: \"montserrat_semi_blod\",\n          color: \"#0866b0\",\n          fontSize: 18\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1320,\n          columnNumber: 13\n        }\n      }, lan == \"en\" ? this.state.services.name : this.state.services.name_ar)), React.createElement(Right, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1332,\n          columnNumber: 11\n        }\n      })), React.createElement(View, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1335,\n          columnNumber: 9\n        }\n      }, React.createElement(LinearGradient, {\n        colors: [\"#0764af\", \"#6ea8cd\"],\n        start: [0.9, 0.2],\n        end: [0.1, 0.1],\n        style: {\n          width: Dimensions.get(\"screen\").width,\n          height: Dimensions.get(\"screen\").height - 130\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1336,\n          columnNumber: 11\n        }\n      }, React.createElement(Image, {\n        source: {\n          uri: \"http://ec2-13-234-48-248.ap-south-1.compute.amazonaws.com/wf/\" + this.state.services.banner\n        },\n        style: {\n          width: Dimensions.get(\"screen\").width,\n          height: 196,\n          alignSelf: \"center\"\n        },\n        resizeMode: \"contain\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1351,\n          columnNumber: 13\n        }\n      }), React.createElement(ScrollView, {\n        style: {\n          marginBottom: 10\n        },\n        contentContainerStyle: {\n          paddingBottom: 20,\n          marginBottom: 30\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1364,\n          columnNumber: 13\n        }\n      }, React.createElement(Accordion, {\n        style: {\n          borderRadius: 10\n        },\n        dataArray: this.state.services.products,\n        expanded: false,\n        renderHeader: this._renderHeader,\n        renderContent: this._renderContent,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1368,\n          columnNumber: 15\n        }\n      })))), React.createElement(View, {\n        style: {\n          backgroundColor: \"white\",\n          borderWidth: 0,\n          height: 90,\n          position: \"absolute\",\n          bottom: 0,\n          alignSelf: \"center\",\n          width: \"100%\",\n          marginBottom: 0,\n          alignItems: \"center\",\n          justifyContent: \"center\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1378,\n          columnNumber: 9\n        }\n      }, React.createElement(TouchableOpacity, {\n        onPress: this.checkout,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1392,\n          columnNumber: 11\n        }\n      }, React.createElement(View, {\n        style: {\n          backgroundColor: \"#0764af\",\n          borderRadius: 12,\n          width: Dimensions.get(\"screen\").width - 120,\n          alignSelf: \"center\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1393,\n          columnNumber: 13\n        }\n      }, React.createElement(LinearGradient, {\n        colors: [\"#0764af\", \"#6ea8cd\"],\n        start: [0.9, 0.2],\n        end: [0.1, 0.1],\n        style: {\n          borderRadius: 12\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1401,\n          columnNumber: 15\n        }\n      }, React.createElement(Text, {\n        style: {\n          color: \"white\",\n          margin: 12,\n          alignSelf: \"center\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1407,\n          columnNumber: 17\n        }\n      }, this.state.lan == \"en\" ? \" Check out\" : \" تقديم الطلب\", \"\\t\", \" \", \"\\t\", \"SAR \", this.state.totalOrderPrice))))));\n    }\n  }]);\n\n  return PromotionService;\n}(React.Component);\n\nexport { PromotionService as default };","map":{"version":3,"sources":["/Users/sx/Documents/React Native/Foren Tech/consumer_latest/screens/promotionServices.js"],"names":["React","AsyncStorage","Container","Accordion","Title","Header","Content","Text","Left","Toast","Right","Footer","Ionicons","LinearGradient","VarientbaseJob","SizebaseJob","DecoCategory","Cleaning","SelectableJob","QuantitybaseJob","Analytics","SecuritybaseJobs","PromotionService","props","componentDidMount","navigation","getServiceObj","getParam","getItem","jobs","setState","lan","selectedServices","JSON","parse","BackHandler","addEventListener","handleBackButtonClick","serviceid","fetch","method","headers","Accept","body","stringify","then","response","json","responseJson","error","services","console","log","state","catch","loading","navigate","componentWillUnmount","removeEventListener","_renderHeader","data","expanded","flexDirection","padding","backgroundColor","alignSelf","width","Dimensions","get","height","borderWidth","borderBottomColor","uri","seo_name","marginTop","fontSize","textAlign","marginLeft","color","name","name_ar","marginRight","paddingLeft","paddingRight","length","minusMeters","job","meter","m_price","price","items","t_price","isRefresh","plusMeters","plusFloors","selected","addRemoveIntoSelectedServices","minusFloors","cahngeToolTip","tIndex","toolTipVisible","_renderContent","map","index","pricetype","plusQuantity","minusQuantity","selectJob","plusVarient","minusVarient","calculateVarient","calculateSubVariant","bind","varient","total","variants_attr","forEach","var_attr","attr","subvariants","subvariant","subvariants_attr","sub_atr","in_attr","attr_type","attr_price","copySelectedJobs","inner_attr","id","parseFloat","saleprice","add","serviceId","jobserviceName","jobserviceNameAr","jobServiceIcon","allServices","findIndex","service","splice","push","setItem","calculateTotalOrderPrices","totalOrderPrice","checkout","logEvent","screen","purpose","isPackage","show","text","position","params","borderBottomWidth","justifyContent","flex","alignItems","Platform","OS","fontFamily","banner","marginBottom","paddingBottom","borderRadius","products","bottom","margin","Component"],"mappings":"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","sourcesContent":["// import React from \"react\";\n// import {\n//   View,\n//   Image,\n//   AsyncStorage,\n//   Dimensions,\n//   TouchableOpacity,\n//   BackHandler\n// } from \"react-native\";\n// import {\n//   Container,\n//   Accordion,\n//   Title,\n//   Header,\n//   Content,\n//   Text,\n//   Left,\n//   Toast,\n//   Right,\n//   Footer\n// } from \"native-base\";\n// import { Ionicons } from \"@expo/vector-icons\";\n// import { LinearGradient } from \"expo-linear-gradient\";\n\n// import VarientbaseJob from \"./jobs/varientbaseJob\";\n// import SizebaseJob from \"./jobs/sizebaseJob\";\n// import DecoCategory from \"./jobs/DecoCategory\";\n// import Cleaning from \"./jobs/Cleaning\";\n// import SelectableJob from \"./jobs/selectableJob\";\n// import QuantitybaseJob from \"./jobs/quantitybaseJob\";\n// import * as Analytics from \"expo-firebase-analytics\";\n// import SecuritybaseJobs from \"./jobs/SecuritybaseJobs\";\n// export default class PromotionService extends React.Component {\n//   constructor(props) {\n//     super(props);\n//     this.state = {\n//       services: [],\n//       lan: \"en\",\n//       services: {},\n//       selectedServices: [],\n//       totalOrderPrice: 0,\n//       isRefresh: false,\n//       toolTipVisible: -1\n//     };\n//     console.log(\"props ======\", this.props.navigation.state.params);\n//   }\n//   componentDidMount = async () => {\n//     const { navigation } = this.props;\n//     this.getServiceObj(navigation.getParam(\"serviceid\"));\n//     let jobs = await AsyncStorage.getItem(\"jobs\");\n\n//     this.setState({\n//       lan: navigation.getParam(\"lan\"),\n//       selectedServices: jobs !== null ? JSON.parse(jobs) : []\n//     });\n//     let lan = await AsyncStorage.getItem(\"lan\");\n//     this.setState({ lan: lan });\n//     BackHandler.addEventListener(\n//       \"hardwareBackPress\",\n//       this.handleBackButtonClick\n//     );\n//   };\n//   getServiceObj = serviceid => {\n//     fetch(\n//       \"http://ec2-13-234-48-248.ap-south-1.compute.amazonaws.com/wf/v1.2/get_service_object\",\n//       {\n//         method: \"POST\",\n//         headers: {\n//           Accept: \"application/json\",\n//           \"Content-Type\": \"application/json\"\n//         },\n//         body: JSON.stringify({\n//           serviceid: serviceid\n//         })\n//       }\n//     )\n//       .then(response => response.json())\n//       .then(responseJson => {\n//         if (responseJson.error == false) {\n//           this.setState({ services: responseJson.services });\n//           console.log(\"service-----\", this.state.services);\n//         }\n//       })\n//       .catch(error => {\n//         this.setState({ loading: false });\n//       });\n//   };\n//   handleBackButtonClick = () => {\n//     this.props.navigation.navigate(\"LandingSecreen\");\n//     return true;\n//   };\n//   componentWillUnmount = () => {\n//     BackHandler.removeEventListener(\n//       \"hardwareBackPress\",\n//       this.handleBackButtonClick\n//     );\n//   };\n//   _renderHeader = (data, expanded) => {\n//     return (\n//       <View\n//         style={{\n//           flexDirection: \"row\",\n//           padding: 10,\n//           backgroundColor: expanded ? \"#d8d8d8\" : \"#F5F5F5\",\n//           alignSelf: \"center\",\n//           width: Dimensions.get(\"screen\").width - 30,\n//           height: 67,\n//           borderWidth: 1,\n//           borderBottomColor: \"lightgray\"\n//         }}\n//       >\n//         <Left style={{ flexDirection: \"row\" }}>\n//           <Image\n//             source={{\n//               uri:\n//                 data.seo_name !== null\n//                   ? data.seo_name\n//                   : \"https://firebasestorage.googleapis.com/v0/b/foren-se-customers.appspot.com/o/image-placeholder.png?alt=media&token=10ced05a-f905-4951-9298-ff47e771f070\"\n//             }}\n//             style={{\n//               width: 45,\n//               height: 45,\n//               marginTop: 4\n//             }}\n//             resizeMode=\"contain\"\n//           />\n//           <View style={{ marginTop: 4 }}>\n//             <Text\n//               style={{\n//                 fontSize: 13,\n\n//                 textAlign: \"left\",\n\n//                 marginLeft: 12,\n//                 width: Dimensions.get(\"screen\").width - 30,\n//                 color: \"#0865b0\"\n//               }}\n//             >\n//               {this.state.lan == \"en\" ? data.name : data.name_ar}\n//             </Text>\n//             <View style={{ flexDirection: \"row\" }}>\n//               <Text\n//                 style={{\n//                   color: \"#4a4b4c\",\n//                   fontSize: 11,\n//                   marginLeft: 12,\n//                   marginRight: 10\n//                 }}\n//               >\n//                 {this.state.lan == \"en\" ? \"Total Services\" : \"مجموع الخدمات\"}\n//               </Text>\n//               <View\n//                 style={{\n//                   backgroundColor: \"#0865b0\",\n//                   marginLeft: 5,\n//                   paddingLeft: 4,\n//                   paddingRight: 4\n//                 }}\n//               >\n//                 <Text style={{ color: \"white\", fontSize: 10 }}>\n//                   {data.jobs ? data.jobs.length : 0}\n//                 </Text>\n//               </View>\n//             </View>\n//             <Text\n//               style={{\n//                 textAlign: \"left\",\n//                 color: \"#4a4b4c\",\n//                 fontSize: 10,\n//                 marginLeft: 12\n//               }}\n//             >\n//               {this.state.lan == \"en\" ? \"24/7 Booking\" : \"حجز على مدار الساعة\"}\n//             </Text>\n//           </View>\n//         </Left>\n//         <Right>\n//           <View style={{ flexDirection: \"row\" }}>\n//             {/* <Image\n//               source={require(\"../assets/Promoted-min.png\")}\n//               style={{ width: 55, height: 35, marginRight: 40 }}\n//               resizeMode=\"contain\"\n//             /> */}\n//             {expanded ? (\n//               <Ionicons\n//                 style={{ fontSize: 24 }}\n//                 name=\"ios-chevron-down\"\n//                 color=\"#0865b0\"\n//               />\n//             ) : (\n//               <Ionicons\n//                 style={{ fontSize: 24 }}\n//                 name={\n//                   this.state.lan == \"en\"\n//                     ? \"chevron-forward-outline\"\n//                     : \"chevron-back-outline\"\n//                 }\n//                 color=\"#0865b0\"\n//               />\n//             )}\n//           </View>\n//         </Right>\n//       </View>\n//     );\n//   };\n//   minusMeters = job => {\n//     if (job.meter && job.meter >= 50) {\n//       job.meter = job.meter - 50;\n//       job.m_price = job.meter * job.price;\n//     } else {\n//       job.meter = 0;\n//       job.m_price = job.meter * job.price;\n//     }\n//     if (job.items) {\n//       job.t_price = job.items * job.m_price;\n//     } else {\n//       job.items = 1;\n//       job.t_price = job.items * job.m_price;\n//     }\n\n//     this.setState({ isRefresh: !this.state.isRefresh });\n//   };\n//   plusMeters = job => {\n//     if (job.meter) {\n//       job.meter = job.meter + 50;\n//       job.m_price = job.meter * job.price;\n//     } else {\n//       job.meter = 50;\n//       job.m_price = job.meter * job.price;\n//     }\n//     if (job.items) {\n//       job.t_price = job.items * job.m_price;\n//     } else {\n//       job.items = 1;\n//       job.t_price = job.items * job.m_price;\n//     }\n//     this.setState({ isRefresh: !this.state.isRefresh });\n//   };\n//   plusFloors = job => {\n//     if (job.items) {\n//       job.items++;\n//     } else {\n//       job.items = 1;\n//     }\n//     if (job.m_price) {\n//       job.t_price = job.items * job.m_price;\n//     } else {\n//       job.meter = 50;\n//       job.m_price = job.meter * job.price;\n//       job.t_price = job.items * job.m_price;\n//     }\n\n//     job.selected = true;\n//     this.addRemoveIntoSelectedServices(job, true);\n//   };\n//   minusFloors = job => {\n//     if (job.items && job.items >= 1) {\n//       job.items--;\n//       if (job.m_price) {\n//         job.t_price = job.items * job.m_price;\n//       } else {\n//         job.meter = 50;\n//         job.m_price = job.meter * job.price;\n//         job.t_price = job.items * job.m_price;\n//       }\n//       this.addRemoveIntoSelectedServices(job, true);\n//     } else {\n//       job.items = 0;\n//       job.t_price = 0;\n//       job.meter = 0;\n//       job.m_price = 0;\n//       job.selected = false;\n//       this.addRemoveIntoSelectedServices(job, false);\n//     }\n//   };\n//   cahngeToolTip = tIndex => {\n//     if (this.state.toolTipVisible == -1) {\n//       this.setState({ toolTipVisible: tIndex });\n//     } else {\n//       this.setState({ toolTipVisible: -1 });\n//     }\n//   };\n//   _renderContent = data => {\n//     console.log(\"data\", data, \"jobs \", data.jobs[5]);\n//     return (\n//       <View\n//         style={{\n//           width: Dimensions.get(\"screen\").width,\n//           alignSelf: \"center\"\n//         }}\n//       >\n//         {data.jobs &&\n//           data.jobs.map(\n//             function(job, index) {\n//               console.log(\"job \", job);\n//               if (job.pricetype == 1) {\n//                 return (\n//                   <QuantitybaseJob\n//                     job={job}\n//                     lan={this.state.lan}\n//                     key={index}\n//                     index={index}\n//                     plus={this.plusQuantity}\n//                     minus={this.minusQuantity}\n//                     toolTipVisible={this.state.toolTipVisible}\n//                     cahngeToolTip={this.cahngeToolTip}\n//                   />\n//                 );\n//               }\n//               if (job.pricetype == 2) {\n//                 return (\n//                   <SelectableJob\n//                     lan={this.state.lan}\n//                     job={job}\n//                     index={index}\n//                     key={index}\n//                     selectJob={this.selectJob}\n//                   />\n//                 );\n//               }\n//               if (job.pricetype == 5) {\n//                 return (\n//                   <VarientbaseJob\n//                     lan={this.state.lan}\n//                     job={job}\n//                     index={index}\n//                     key={index}\n//                     plusVarient={this.plusVarient}\n//                     minusVarient={this.minusVarient}\n//                     calculateVarient={this.calculateVarient}\n//                     calculateSubVariant={this.calculateSubVariant}\n//                     plus={this.plusQuantity}\n//                     minus={this.minusQuantity}\n//                   />\n//                 );\n//               }\n//               if (job.pricetype == 6) {\n//                 return (\n//                   <SizebaseJob\n//                     plusMeters={this.plusMeters}\n//                     minusMeters={this.minusMeters}\n//                     plusFloors={this.plusFloors}\n//                     index={index}\n//                     minusFloors={this.minusFloors}\n//                     lan={this.state.lan}\n//                     job={job}\n//                     key={index}\n//                   />\n//                 );\n//               }\n//               if (job.pricetype == 7) {\n//                 return (\n//                   <DecoCategory\n//                     lan={this.state.lan}\n//                     job={job}\n//                     index={index}\n//                     key={index}\n//                     selectJob={this.selectJob}\n//                   />\n//                 );\n//               }\n//               if (job.pricetype == 8) {\n//                 return (\n//                   <SecuritybaseJobs\n//                     job={job}\n//                     cahngeToolTip={this.cahngeToolTip}\n//                     index={index}\n//                     toolTipVisible={this.state.toolTipVisible}\n//                     lan={this.state.lan}\n//                     key={index}\n//                     plus={this.plusQuantity}\n//                     minus={this.minusQuantity}\n//                   />\n//                 );\n//               }\n//               if (job.pricetype == 9) {\n//                 return (\n//                   <Cleaning\n//                     lan={this.state.lan}\n//                     job={job}\n//                     index={index}\n//                     key={index}\n//                     selectJob={this.selectJob}\n//                   />\n//                 );\n//               }\n//             }.bind(this)\n//           )}\n//       </View>\n//     );\n//   };\n//   minusVarient = (varient, job) => {\n//     if (job.selected && job.selected == true) {\n//       let total = 0;\n//       varient.variants_attr.forEach(var_attr => {\n//         var_attr.attr.forEach(attr => {\n//           if (attr.selected && attr.t_price) {\n//             total = total + attr.t_price;\n//           }\n//         });\n//       });\n//       if (varient.items) varient.items--;\n//       else varient.items = 1;\n//       varient.t_price = varient.items * total;\n//       this.addRemoveIntoSelectedServices(job, true);\n//     }\n//   };\n//   plusVarient = (varient, job) => {\n//     if (job.selected && job.selected == true) {\n//       let total = 0;\n//       varient.variants_attr.forEach(var_attr => {\n//         var_attr.attr.forEach(attr => {\n//           if (attr.selected && attr.t_price) {\n//             total = total + attr.t_price;\n//           }\n//         });\n//       });\n//       if (varient.items) varient.items++;\n//       else varient.items = 1;\n//       varient.t_price = varient.items * total;\n//       this.addRemoveIntoSelectedServices(job, true);\n//     }\n//   };\n//   calculateSubVariant = (attr, varient, job) => {\n//     if (job.selected && job.selected == true) {\n//       varient.subvariants &&\n//         varient.subvariants.forEach(subvariant => {\n//           subvariant.subvariants_attr.forEach(sub_atr => {\n//             sub_atr.attr.forEach(in_attr => {\n//               if (\n//                 in_attr.selected == true &&\n//                 in_attr.attr_type == attr.attr_type\n//               ) {\n//                 in_attr.selected = false;\n//               }\n//             });\n//           });\n//         });\n//       attr.selected = !attr.selected;\n//       if (attr.attr_type == 1) {\n//         attr.t_price =\n//           attr.selected && attr.selected == true ? attr.attr_price : 0;\n//       }\n\n//       varient.t_price = varient.items * attr.t_price ? attr.t_price : 0;\n//       let copySelectedJobs = this.state.selectedServices;\n//       this.setState({ selectedServices: copySelectedJobs });\n//     }\n//   };\n//   calculateVarient = (attr, varient, job) => {\n//     if (job.selected && job.selected == true) {\n//       varient.variants_attr.forEach(var_attr => {\n//         var_attr.attr.forEach(inner_attr => {\n//           if (\n//             inner_attr.selected == true &&\n//             inner_attr.attr_type == attr.attr_type\n//           ) {\n//             inner_attr.selected = false;\n//           }\n//         });\n//       });\n\n//       attr.selected = !attr.selected;\n//       if (attr.attr_type == 1) {\n//         attr.t_price =\n//           attr.selected && attr.selected == true ? attr.attr_price : 0;\n//       }\n//       if (attr.attr_price) {\n//         varient.t_price = varient.items * attr.t_price;\n//       }\n\n//       let copySelectedJobs = this.state.selectedServices;\n//       this.setState({ selectedServices: copySelectedJobs });\n//     }\n//   };\n//   plusQuantity = job => {\n//     if (job.items) job.items++;\n//     else job.items = 1;\n//     if (job.id === 70 || job.id === 61 || job.id === 82) {\n//       job.t_price =\n//         parseFloat(job.items > 1 ? job.saleprice : job.price) * job.items;\n//     } else {\n//       job.t_price =\n//         parseFloat(job.saleprice ? job.saleprice : job.price) * job.items;\n//     }\n\n//     job.selected = true;\n//     this.addRemoveIntoSelectedServices(job, true);\n//   };\n//   minusQuantity = job => {\n//     if (job.items && job.items >= 1) {\n//       job.items--;\n//       if (job.id === 70 || job.id === 61 || job.id === 82) {\n//         job.t_price =\n//           parseFloat(job.items > 1 ? job.saleprice : job.price) * job.items;\n//       } else {\n//         job.t_price =\n//           parseFloat(job.saleprice ? job.saleprice : job.price) * job.items;\n//       }\n//       this.addRemoveIntoSelectedServices(job, true);\n//     } else {\n//       job.items = 0;\n//       job.t_price = 0;\n//       job.selected = false;\n//       this.addRemoveIntoSelectedServices(job, false);\n//     }\n//   };\n//   selectJob = job => {\n//     job.selected = !job.selected;\n//     job.items = 1;\n//     if (job.selected) job.t_price = job.saleprice ? job.saleprice : job.price;\n//     else job.t_price = 0;\n\n//     if (job.selected) this.addRemoveIntoSelectedServices(job, true);\n//     else this.addRemoveIntoSelectedServices(job, false);\n//   };\n//   addRemoveIntoSelectedServices = async (job, add) => {\n//     (job.serviceId = this.state.services.id),\n//       (job.jobserviceName = this.state.services.name),\n//       (job.jobserviceNameAr = this.state.services.name_ar),\n//       (job.jobServiceIcon = this.state.services.seo_name);\n\n//     let allServices = this.state.selectedServices;\n//     let index = allServices.findIndex(service => service.id === job.id);\n\n//     if (add === false && job.items > 0) {\n//       allServices.splice(index, 1);\n\n//       this.setState({ selectedServices: allServices });\n//     }\n//     if (add === true) {\n//       if (job.items < 1) {\n//         allServices.splice(index, 1);\n\n//         this.setState({\n//           selectedServices: allServices\n//         });\n//       } else {\n//         if (index > -1) {\n//           allServices[index] = job;\n//         } else {\n//           allServices.push(job);\n//         }\n//         this.setState({\n//           selectedServices: allServices\n//         });\n//       }\n//     }\n//     await AsyncStorage.setItem(\"jobs\", JSON.stringify(allServices));\n//     this.calculateTotalOrderPrices();\n//   };\n//   calculateTotalOrderPrices = () => {\n//     let total = 0;\n//     this.state.selectedServices.forEach(service => {\n//       total = total + service.t_price;\n//     });\n//     this.setState({ totalOrderPrice: total });\n//   };\n//   checkout = async () => {\n//     if (this.state.selectedServices.length > 0) {\n//       await AsyncStorage.setItem(\n//         \"jobs\",\n//         JSON.stringify(this.state.selectedServices)\n//       );\n//       await Analytics.logEvent(this.state.services.name, {\n//         name: this.state.services.name,\n//         screen: \"promotionScreen\",\n//         purpose: \"checkout order from categories screen\"\n//       });\n//       this.props.navigation.navigate(\"MyCart\", {\n//         lan: this.state.lan,\n//         isPackage: false\n//       });\n//     } else {\n//       Toast.show({\n//         text:\n//           this.state.lan == \"en\"\n//             ? \"Select any service first to proceed\"\n//             : \"أختر اي خدمة للإستمرار\",\n//         position: \"bottom\"\n//       });\n//     }\n//   };\n//   render() {\n//     const { navigation } = this.props;\n//     var lan = navigation.getParam(\"lan\");\n//     return (\n//       <Container>\n//         <Header\n//           style={{\n//             marginTop: 0,\n//             borderBottomWidth: 1,\n//             borderBottomColor: \"#0866b0\",\n//             backgroundColor: \"#ffffff\",\n//             height: 60,\n//             justifyContent: \"center\"\n//           }}\n//         >\n//           <Left style={{ marginLeft: 10 }}>\n//             <Ionicons\n//               onPress={() => this.props.navigation.navigate(\"LandingSecreen\")}\n//               name={lan == \"en\" ? \"chevron-back-outline\" : \"chevron-forward-outline\"}\n//               size={34}\n//               color={\"#0866b0\"}\n//             />\n//           </Left>\n//           <View\n//             style={{\n//               flex: 2,\n//               justifyContent: \"center\",\n//               alignItems: \"center\",\n//               position: Platform.OS === \"android\" ? \"absolute\" : \"relative\",\n//               alignSelf: \"center\"\n//             }}\n//           >\n//             <Title\n//               style={{\n//                 fontFamily: \"montserrat_semi_blod\",\n//                 color: \"#0866b0\",\n//                 fontSize: 18\n//               }}\n//             >\n//               {lan == \"en\"\n//                 ? this.state.services.name\n//                 : this.state.services.name_ar}\n//             </Title>\n//           </View>\n//           <Right />\n//         </Header>\n\n//         <Content>\n//           <LinearGradient\n//             colors={[\"#0764af\", \"#6ea8cd\"]}\n//             start={[0.9, 0.2]}\n//             end={[0.1, 0.1]}\n//             style={{\n//               width: Dimensions.get(\"screen\").width,\n//               height:\n//                 this.state.services.id == 17 ||\n//                 this.state.services.id == 45 ||\n//                 this.state.services.id == 47\n//                   ? Dimensions.get(\"screen\").height + 60\n//                   : \"100%\"\n//             }}\n//           >\n//             <Image\n//               source={{\n//                 uri:\n//                   \"http://ec2-13-234-48-248.ap-south-1.compute.amazonaws.com/wf/\" +\n//                   this.state.services.banner\n//               }}\n//               style={{\n//                 width: Dimensions.get(\"screen\").width,\n//                 height: 196,\n//                 alignSelf: \"center\"\n//               }}\n//               resizeMode=\"contain\"\n//             />\n//             <View>\n//               <Accordion\n//                 style={{ borderRadius: 10 }}\n//                 dataArray={this.state.services.products}\n//                 expanded={false}\n//                 renderHeader={this._renderHeader}\n//                 renderContent={this._renderContent}\n//               />\n//             </View>\n//           </LinearGradient>\n//         </Content>\n//         <Footer\n//           style={{ backgroundColor: \"white\", borderWidth: 0, height: 90 }}\n//         >\n//           <TouchableOpacity onPress={this.checkout}>\n//             <View\n//               style={{\n//                 backgroundColor: \"#0764af\",\n//                 borderRadius: 12,\n//                 width: Dimensions.get(\"screen\").width - 120,\n//                 alignSelf: \"center\"\n//               }}\n//             >\n//               <LinearGradient\n//                 colors={[\"#0764af\", \"#6ea8cd\"]}\n//                 start={[0.9, 0.2]}\n//                 end={[0.1, 0.1]}\n//                 style={{ borderRadius: 12 }}\n//               >\n//                 <Text\n//                   style={{ color: \"white\", margin: 12, alignSelf: \"center\" }}\n//                 >\n//                   {this.state.lan == \"en\" ? \" Check out\" : \" تقديم الطلب\"}\n//                   {\"\\t\"} {\"\\t\"}SAR {this.state.totalOrderPrice}\n//                 </Text>\n//               </LinearGradient>\n//             </View>\n//           </TouchableOpacity>\n//         </Footer>\n//       </Container>\n//     );\n//   }\n// }\nimport React from \"react\";\nimport {\n  View,\n  Image,\n  AsyncStorage,\n  Dimensions,\n  TouchableOpacity,\n  BackHandler,\n  ScrollView,\n} from \"react-native\";\nimport {\n  Container,\n  Accordion,\n  Title,\n  Header,\n  Content,\n  Text,\n  Left,\n  Toast,\n  Right,\n  Footer,\n} from \"native-base\";\nimport { Ionicons } from \"@expo/vector-icons\";\nimport { LinearGradient } from \"expo-linear-gradient\";\n\nimport VarientbaseJob from \"./jobs/varientbaseJob\";\nimport SizebaseJob from \"./jobs/sizebaseJob\";\nimport DecoCategory from \"./jobs/DecoCategory\";\nimport Cleaning from \"./jobs/Cleaning\";\nimport SelectableJob from \"./jobs/selectableJob\";\nimport QuantitybaseJob from \"./jobs/quantitybaseJob\";\nimport * as Analytics from \"expo-firebase-analytics\";\nimport SecuritybaseJobs from \"./jobs/SecuritybaseJobs\";\nexport default class PromotionService extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      services: [],\n      lan: \"en\",\n      services: {},\n      selectedServices: [],\n      totalOrderPrice: 0,\n      isRefresh: false,\n      toolTipVisible: -1,\n    };\n    console.log(\"props ======\", this.props.navigation.state.params);\n  }\n  componentDidMount = async () => {\n    const { navigation } = this.props;\n    this.getServiceObj(navigation.getParam(\"serviceid\"));\n    let jobs = await AsyncStorage.getItem(\"jobs\");\n\n    this.setState({\n      lan: navigation.getParam(\"lan\"),\n      selectedServices: jobs !== null ? JSON.parse(jobs) : [],\n    });\n    let lan = await AsyncStorage.getItem(\"lan\");\n    this.setState({ lan: lan });\n    BackHandler.addEventListener(\n      \"hardwareBackPress\",\n      this.handleBackButtonClick\n    );\n  };\n  getServiceObj = (serviceid) => {\n    fetch(\n      \"http://ec2-13-234-48-248.ap-south-1.compute.amazonaws.com/wf/v1.2/get_service_object\",\n      {\n        method: \"POST\",\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({\n          serviceid: serviceid,\n        }),\n      }\n    )\n      .then((response) => response.json())\n      .then((responseJson) => {\n        if (responseJson.error == false) {\n          this.setState({ services: responseJson.services });\n          console.log(\"service-----\", this.state.services);\n        }\n      })\n      .catch((error) => {\n        this.setState({ loading: false });\n      });\n  };\n  handleBackButtonClick = () => {\n    this.props.navigation.navigate(\"LandingSecreen\");\n    return true;\n  };\n  componentWillUnmount = () => {\n    BackHandler.removeEventListener(\n      \"hardwareBackPress\",\n      this.handleBackButtonClick\n    );\n  };\n  _renderHeader = (data, expanded) => {\n    return (\n      <View\n        style={{\n          flexDirection: \"row\",\n          padding: 10,\n          backgroundColor: expanded ? \"#d8d8d8\" : \"#F5F5F5\",\n          alignSelf: \"center\",\n          width: Dimensions.get(\"screen\").width - 30,\n          height: 67,\n          borderWidth: 1,\n          borderBottomColor: \"lightgray\",\n        }}\n      >\n        <Left style={{ flexDirection: \"row\" }}>\n          <Image\n            source={{\n              uri:\n                data.seo_name !== null\n                  ? data.seo_name\n                  : \"https://firebasestorage.googleapis.com/v0/b/foren-se-customers.appspot.com/o/image-placeholder.png?alt=media&token=10ced05a-f905-4951-9298-ff47e771f070\",\n            }}\n            style={{\n              width: 45,\n              height: 45,\n              marginTop: 4,\n            }}\n            resizeMode=\"contain\"\n          />\n          <View style={{ marginTop: 4 }}>\n            <Text\n              style={{\n                fontSize: 13,\n\n                textAlign: \"left\",\n\n                marginLeft: 12,\n                width: Dimensions.get(\"screen\").width - 30,\n                color: \"#0865b0\",\n              }}\n            >\n              {this.state.lan == \"en\" ? data.name : data.name_ar}\n            </Text>\n            <View style={{ flexDirection: \"row\" }}>\n              <Text\n                style={{\n                  color: \"#4a4b4c\",\n                  fontSize: 11,\n                  marginLeft: 12,\n                  marginRight: 10,\n                }}\n              >\n                {this.state.lan == \"en\" ? \"Total Services\" : \"مجموع الخدمات\"}\n              </Text>\n              <View\n                style={{\n                  backgroundColor: \"#0865b0\",\n                  marginLeft: 5,\n                  paddingLeft: 4,\n                  paddingRight: 4,\n                }}\n              >\n                <Text style={{ color: \"white\", fontSize: 10 }}>\n                  {data.jobs ? data.jobs.length : 0}\n                </Text>\n              </View>\n            </View>\n            <Text\n              style={{\n                textAlign: \"left\",\n                color: \"#4a4b4c\",\n                fontSize: 10,\n                marginLeft: 12,\n              }}\n            >\n              {this.state.lan == \"en\" ? \"24/7 Booking\" : \"حجز على مدار الساعة\"}\n            </Text>\n          </View>\n        </Left>\n        <Right>\n          <View style={{ flexDirection: \"row\" }}>\n            {/* <Image\n              source={require(\"../assets/Promoted-min.png\")}\n              style={{ width: 55, height: 35, marginRight: 40 }}\n              resizeMode=\"contain\"\n            /> */}\n            {expanded ? (\n              <Ionicons\n                style={{ fontSize: 24 }}\n                name=\"ios-chevron-down\"\n                color=\"#0865b0\"\n              />\n            ) : (\n              <Ionicons\n                style={{ fontSize: 24 }}\n                name={\n                  this.state.lan == \"en\"\n                    ? \"chevron-forward-outline\"\n                    : \"chevron-back-outline\"\n                }\n                color=\"#0865b0\"\n              />\n            )}\n          </View>\n        </Right>\n      </View>\n    );\n  };\n  minusMeters = (job) => {\n    if (job.meter && job.meter >= 50) {\n      job.meter = job.meter - 50;\n      job.m_price = job.meter * job.price;\n    } else {\n      job.meter = 0;\n      job.m_price = job.meter * job.price;\n    }\n    if (job.items) {\n      job.t_price = job.items * job.m_price;\n    } else {\n      job.items = 1;\n      job.t_price = job.items * job.m_price;\n    }\n\n    this.setState({ isRefresh: !this.state.isRefresh });\n  };\n  plusMeters = (job) => {\n    if (job.meter) {\n      job.meter = job.meter + 50;\n      job.m_price = job.meter * job.price;\n    } else {\n      job.meter = 50;\n      job.m_price = job.meter * job.price;\n    }\n    if (job.items) {\n      job.t_price = job.items * job.m_price;\n    } else {\n      job.items = 1;\n      job.t_price = job.items * job.m_price;\n    }\n    this.setState({ isRefresh: !this.state.isRefresh });\n  };\n  plusFloors = (job) => {\n    if (job.items) {\n      job.items++;\n    } else {\n      job.items = 1;\n    }\n    if (job.m_price) {\n      job.t_price = job.items * job.m_price;\n    } else {\n      job.meter = 50;\n      job.m_price = job.meter * job.price;\n      job.t_price = job.items * job.m_price;\n    }\n\n    job.selected = true;\n    this.addRemoveIntoSelectedServices(job, true);\n  };\n  minusFloors = (job) => {\n    if (job.items && job.items >= 1) {\n      job.items--;\n      if (job.m_price) {\n        job.t_price = job.items * job.m_price;\n      } else {\n        job.meter = 50;\n        job.m_price = job.meter * job.price;\n        job.t_price = job.items * job.m_price;\n      }\n      this.addRemoveIntoSelectedServices(job, true);\n    } else {\n      job.items = 0;\n      job.t_price = 0;\n      job.meter = 0;\n      job.m_price = 0;\n      job.selected = false;\n      this.addRemoveIntoSelectedServices(job, false);\n    }\n  };\n  cahngeToolTip = (tIndex) => {\n    if (this.state.toolTipVisible == -1) {\n      this.setState({ toolTipVisible: tIndex });\n    } else {\n      this.setState({ toolTipVisible: -1 });\n    }\n  };\n  _renderContent = (data) => {\n    console.log(\"data\", data, \"jobs \", data.jobs[5]);\n    return (\n      <View\n        style={{\n          width: Dimensions.get(\"screen\").width,\n          alignSelf: \"center\",\n        }}\n      >\n        {data.jobs &&\n          data.jobs.map(\n            function (job, index) {\n              console.log(\"job \", job);\n              if (job.pricetype == 1) {\n                return (\n                  <QuantitybaseJob\n                    job={job}\n                    lan={this.state.lan}\n                    key={index}\n                    index={index}\n                    plus={this.plusQuantity}\n                    minus={this.minusQuantity}\n                    toolTipVisible={this.state.toolTipVisible}\n                    cahngeToolTip={this.cahngeToolTip}\n                  />\n                );\n              }\n              if (job.pricetype == 2) {\n                return (\n                  <SelectableJob\n                    lan={this.state.lan}\n                    job={job}\n                    index={index}\n                    key={index}\n                    selectJob={this.selectJob}\n                  />\n                );\n              }\n              if (job.pricetype == 5) {\n                return (\n                  <VarientbaseJob\n                    lan={this.state.lan}\n                    job={job}\n                    index={index}\n                    key={index}\n                    plusVarient={this.plusVarient}\n                    minusVarient={this.minusVarient}\n                    calculateVarient={this.calculateVarient}\n                    calculateSubVariant={this.calculateSubVariant}\n                    plus={this.plusQuantity}\n                    minus={this.minusQuantity}\n                  />\n                );\n              }\n              if (job.pricetype == 6) {\n                return (\n                  <SizebaseJob\n                    plusMeters={this.plusMeters}\n                    minusMeters={this.minusMeters}\n                    plusFloors={this.plusFloors}\n                    index={index}\n                    minusFloors={this.minusFloors}\n                    lan={this.state.lan}\n                    job={job}\n                    key={index}\n                  />\n                );\n              }\n              if (job.pricetype == 7) {\n                return (\n                  <DecoCategory\n                    lan={this.state.lan}\n                    job={job}\n                    index={index}\n                    key={index}\n                    selectJob={this.selectJob}\n                  />\n                );\n              }\n              if (job.pricetype == 8) {\n                return (\n                  <SecuritybaseJobs\n                    job={job}\n                    cahngeToolTip={this.cahngeToolTip}\n                    index={index}\n                    toolTipVisible={this.state.toolTipVisible}\n                    lan={this.state.lan}\n                    key={index}\n                    plus={this.plusQuantity}\n                    minus={this.minusQuantity}\n                  />\n                );\n              }\n              if (job.pricetype == 9) {\n                return (\n                  <Cleaning\n                    lan={this.state.lan}\n                    job={job}\n                    index={index}\n                    key={index}\n                    selectJob={this.selectJob}\n                  />\n                );\n              }\n            }.bind(this)\n          )}\n      </View>\n    );\n  };\n  minusVarient = (varient, job) => {\n    if (job.selected && job.selected == true) {\n      let total = 0;\n      varient.variants_attr.forEach((var_attr) => {\n        var_attr.attr.forEach((attr) => {\n          if (attr.selected && attr.t_price) {\n            total = total + attr.t_price;\n          }\n        });\n      });\n      if (varient.items) varient.items--;\n      else varient.items = 1;\n      varient.t_price = varient.items * total;\n      this.addRemoveIntoSelectedServices(job, true);\n    }\n  };\n  plusVarient = (varient, job) => {\n    if (job.selected && job.selected == true) {\n      let total = 0;\n      varient.variants_attr.forEach((var_attr) => {\n        var_attr.attr.forEach((attr) => {\n          if (attr.selected && attr.t_price) {\n            total = total + attr.t_price;\n          }\n        });\n      });\n      if (varient.items) varient.items++;\n      else varient.items = 1;\n      varient.t_price = varient.items * total;\n      this.addRemoveIntoSelectedServices(job, true);\n    }\n  };\n  calculateSubVariant = (attr, varient, job) => {\n    if (job.selected && job.selected == true) {\n      varient.subvariants &&\n        varient.subvariants.forEach((subvariant) => {\n          subvariant.subvariants_attr.forEach((sub_atr) => {\n            sub_atr.attr.forEach((in_attr) => {\n              if (\n                in_attr.selected == true &&\n                in_attr.attr_type == attr.attr_type\n              ) {\n                in_attr.selected = false;\n              }\n            });\n          });\n        });\n      attr.selected = !attr.selected;\n      if (attr.attr_type == 1) {\n        attr.t_price =\n          attr.selected && attr.selected == true ? attr.attr_price : 0;\n      }\n\n      varient.t_price = varient.items * attr.t_price ? attr.t_price : 0;\n      let copySelectedJobs = this.state.selectedServices;\n      this.setState({ selectedServices: copySelectedJobs });\n    }\n  };\n  calculateVarient = (attr, varient, job) => {\n    if (job.selected && job.selected == true) {\n      varient.variants_attr.forEach((var_attr) => {\n        var_attr.attr.forEach((inner_attr) => {\n          if (\n            inner_attr.selected == true &&\n            inner_attr.attr_type == attr.attr_type\n          ) {\n            inner_attr.selected = false;\n          }\n        });\n      });\n\n      attr.selected = !attr.selected;\n      if (attr.attr_type == 1) {\n        attr.t_price =\n          attr.selected && attr.selected == true ? attr.attr_price : 0;\n      }\n      if (attr.attr_price) {\n        varient.t_price = varient.items * attr.t_price;\n      }\n\n      let copySelectedJobs = this.state.selectedServices;\n      this.setState({ selectedServices: copySelectedJobs });\n    }\n  };\n  plusQuantity = (job) => {\n    if (job.items) job.items++;\n    else job.items = 1;\n    if (job.id === 70 || job.id === 61 || job.id === 82) {\n      job.t_price =\n        parseFloat(job.items > 1 ? job.saleprice : job.price) * job.items;\n    } else {\n      job.t_price =\n        parseFloat(job.saleprice ? job.saleprice : job.price) * job.items;\n    }\n\n    job.selected = true;\n    this.addRemoveIntoSelectedServices(job, true);\n  };\n  minusQuantity = (job) => {\n    if (job.items && job.items >= 1) {\n      job.items--;\n      if (job.id === 70 || job.id === 61 || job.id === 82) {\n        job.t_price =\n          parseFloat(job.items > 1 ? job.saleprice : job.price) * job.items;\n      } else {\n        job.t_price =\n          parseFloat(job.saleprice ? job.saleprice : job.price) * job.items;\n      }\n      this.addRemoveIntoSelectedServices(job, true);\n    } else {\n      job.items = 0;\n      job.t_price = 0;\n      job.selected = false;\n      this.addRemoveIntoSelectedServices(job, false);\n    }\n  };\n  selectJob = (job) => {\n    job.selected = !job.selected;\n    job.items = 1;\n    if (job.selected) job.t_price = job.saleprice ? job.saleprice : job.price;\n    else job.t_price = 0;\n\n    if (job.selected) this.addRemoveIntoSelectedServices(job, true);\n    else this.addRemoveIntoSelectedServices(job, false);\n  };\n  addRemoveIntoSelectedServices = async (job, add) => {\n    (job.serviceId = this.state.services.id),\n      (job.jobserviceName = this.state.services.name),\n      (job.jobserviceNameAr = this.state.services.name_ar),\n      (job.jobServiceIcon = this.state.services.seo_name);\n\n    let allServices = this.state.selectedServices;\n    let index = allServices.findIndex((service) => service.id === job.id);\n\n    if (add === false && job.items > 0) {\n      allServices.splice(index, 1);\n\n      this.setState({ selectedServices: allServices });\n    }\n    if (add === true) {\n      if (job.items < 1) {\n        allServices.splice(index, 1);\n\n        this.setState({\n          selectedServices: allServices,\n        });\n      } else {\n        if (index > -1) {\n          allServices[index] = job;\n        } else {\n          allServices.push(job);\n        }\n        this.setState({\n          selectedServices: allServices,\n        });\n      }\n    }\n    await AsyncStorage.setItem(\"jobs\", JSON.stringify(allServices));\n    this.calculateTotalOrderPrices();\n  };\n  calculateTotalOrderPrices = () => {\n    let total = 0;\n    this.state.selectedServices.forEach((service) => {\n      total = total + service.t_price;\n    });\n    this.setState({ totalOrderPrice: total });\n  };\n  checkout = async () => {\n    if (this.state.selectedServices.length > 0) {\n      await AsyncStorage.setItem(\n        \"jobs\",\n        JSON.stringify(this.state.selectedServices)\n      );\n      await Analytics.logEvent(this.state.services.name, {\n        name: this.state.services.name,\n        screen: \"promotionScreen\",\n        purpose: \"checkout order from categories screen\",\n      });\n      this.props.navigation.navigate(\"MyCart\", {\n        lan: this.state.lan,\n        isPackage: false,\n      });\n    } else {\n      Toast.show({\n        text:\n          this.state.lan == \"en\"\n            ? \"Select any service first to proceed\"\n            : \"أختر اي خدمة للإستمرار\",\n        position: \"bottom\",\n      });\n    }\n  };\n  render() {\n    const { navigation } = this.props;\n    var lan = navigation.getParam(\"lan\");\n    return (\n      <View>\n        <Header\n          style={{\n            marginTop: 0,\n            borderBottomWidth: 1,\n            borderBottomColor: \"#0866b0\",\n            backgroundColor: \"#ffffff\",\n            height: 60,\n            justifyContent: \"center\",\n          }}\n        >\n          <Left style={{ marginLeft: 10 }}>\n            <Ionicons\n              onPress={() => this.props.navigation.navigate(\"LandingSecreen\")}\n              name={\n                lan == \"en\" ? \"chevron-back-outline\" : \"chevron-forward-outline\"\n              }\n              size={34}\n              color={\"#0866b0\"}\n            />\n          </Left>\n          <View\n            style={{\n              flex: 2,\n              justifyContent: \"center\",\n              alignItems: \"center\",\n              position: Platform.OS === \"android\" ? \"absolute\" : \"relative\",\n              alignSelf: \"center\",\n            }}\n          >\n            <Title\n              style={{\n                fontFamily: \"montserrat_semi_blod\",\n                color: \"#0866b0\",\n                fontSize: 18,\n              }}\n            >\n              {lan == \"en\"\n                ? this.state.services.name\n                : this.state.services.name_ar}\n            </Title>\n          </View>\n          <Right />\n        </Header>\n\n        <View>\n          <LinearGradient\n            colors={[\"#0764af\", \"#6ea8cd\"]}\n            start={[0.9, 0.2]}\n            end={[0.1, 0.1]}\n            style={{\n              width: Dimensions.get(\"screen\").width,\n              // paddingBottom: 50,\n              height: Dimensions.get(\"screen\").height - 130,\n              // this.state.services.id == 17 ||\n              // this.state.services.id == 45 ||\n              // this.state.services.id == 47\n              //   ? Dimensions.get(\"screen\").height + 60\n              //   : \"94%\"\n            }}\n          >\n            <Image\n              source={{\n                uri:\n                  \"http://ec2-13-234-48-248.ap-south-1.compute.amazonaws.com/wf/\" +\n                  this.state.services.banner,\n              }}\n              style={{\n                width: Dimensions.get(\"screen\").width,\n                height: 196,\n                alignSelf: \"center\",\n              }}\n              resizeMode=\"contain\"\n            />\n            <ScrollView\n              style={{ marginBottom: 10 }}\n              contentContainerStyle={{ paddingBottom: 20, marginBottom: 30 }}\n            >\n              <Accordion\n                style={{ borderRadius: 10 }}\n                dataArray={this.state.services.products}\n                expanded={false}\n                renderHeader={this._renderHeader}\n                renderContent={this._renderContent}\n              />\n            </ScrollView>\n          </LinearGradient>\n        </View>\n        <View\n          style={{\n            backgroundColor: \"white\", //white\n            borderWidth: 0,\n            height: 90,\n            position: \"absolute\",\n            bottom: 0,\n            alignSelf: \"center\",\n            width: \"100%\",\n            marginBottom: 0,\n            alignItems: \"center\",\n            justifyContent: \"center\",\n          }}\n        >\n          <TouchableOpacity onPress={this.checkout}>\n            <View\n              style={{\n                backgroundColor: \"#0764af\",\n                borderRadius: 12,\n                width: Dimensions.get(\"screen\").width - 120,\n                alignSelf: \"center\",\n              }}\n            >\n              <LinearGradient\n                colors={[\"#0764af\", \"#6ea8cd\"]}\n                start={[0.9, 0.2]}\n                end={[0.1, 0.1]}\n                style={{ borderRadius: 12 }}\n              >\n                <Text\n                  style={{ color: \"white\", margin: 12, alignSelf: \"center\" }}\n                >\n                  {this.state.lan == \"en\" ? \" Check out\" : \" تقديم الطلب\"}\n                  {\"\\t\"} {\"\\t\"}SAR {this.state.totalOrderPrice}\n                </Text>\n              </LinearGradient>\n            </View>\n          </TouchableOpacity>\n        </View>\n      </View>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}