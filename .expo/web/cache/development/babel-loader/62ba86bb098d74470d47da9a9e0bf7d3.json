{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"/Users/sx/Documents/React Native/Foren Tech/consumer_latest/screens/packageOffer.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport { AsyncStorage } from \"react-native-web/dist/index\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport { Container, Toast, Title, Header, Content, Text, Left, Right, Footer } from \"native-base\";\nimport { Ionicons } from \"@expo/vector-icons\";\nimport { LinearGradient } from \"expo-linear-gradient\";\nimport DealJob from \"./deals/dealJob\";\nimport Spinner from \"react-native-loading-spinner-overlay\";\nimport * as Analytics from \"expo-firebase-analytics\";\nimport { ScrollView } from \"react-native-gesture-handler\";\n\nvar PackageOfferScreen = function (_React$Component) {\n  _inherits(PackageOfferScreen, _React$Component);\n\n  var _super = _createSuper(PackageOfferScreen);\n\n  function PackageOfferScreen(props) {\n    var _this;\n\n    _classCallCheck(this, PackageOfferScreen);\n\n    _this = _super.call(this, props);\n\n    _this.getPackage = function (offerid, lan) {\n      fetch(\"http://ec2-13-234-48-248.ap-south-1.compute.amazonaws.com/wf/V1.2/get_offer\", {\n        method: \"POST\",\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          offerid: offerid\n        })\n      }).then(function (response) {\n        return response.json();\n      }).then(function (responseJson) {\n        if (responseJson.error == false) {\n          _this.setState({\n            services: responseJson.offer.services,\n            deal: responseJson.offer,\n            lan: lan,\n            loading: false\n          });\n\n          _this.clearSelectedServices(responseJson.offer.services);\n        } else {\n          _this.setState({\n            loading: false\n          });\n        }\n      }).catch(function (error) {\n        _this.setState({\n          loading: false\n        });\n      });\n    };\n\n    _this.compare = function (a, b) {\n      if (a.choose_type == 3) {\n        return -1;\n      }\n\n      if (a.choose_type == 1) {\n        return 1;\n      }\n\n      return 0;\n    };\n\n    _this.sortServices = function (services) {\n      services.forEach(function (service) {\n        service.products.sort(_this.compare);\n      });\n\n      _this.setState({\n        services: services\n      });\n    };\n\n    _this.componentDidUpdate = function () {\n      console.log(\"services\", _this.state.services);\n      console.log(\"Deal\", _this.state.deal);\n    };\n\n    _this.componentDidMount = function () {\n      var navigation = _this.props.navigation;\n\n      if (navigation.getParam(\"isOffer\")) {\n        _this.setState({\n          loading: true\n        });\n\n        _this.getPackage(navigation.getParam(\"offerid\"), navigation.getParam(\"lan\"));\n      } else {\n        _this.sortServices(navigation.getParam(\"deal\").services);\n\n        _this.setState({\n          lan: navigation.getParam(\"lan\"),\n          deal: navigation.getParam(\"deal\")\n        });\n\n        _this.clearSelectedServices(navigation.getParam(\"deal\").services);\n      }\n\n      _this.logPackageEvent();\n    };\n\n    _this.clearSelectedServices = function (services) {\n      services.forEach(function (service) {\n        if (service.products) {\n          service.products.forEach(function (product) {\n            product.jobs.forEach(function (job) {\n              if (job.selected && job.selected == true) {\n                job.selected = false, job.items = 0;\n              }\n            });\n          });\n        } else {\n          service.jobs.forEach(function (job) {\n            if (job.selected && job.selected == true) {\n              job.selected = false, job.items = 0;\n            }\n          });\n        }\n      });\n    };\n\n    _this.logPackageEvent = function _callee() {\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return _regeneratorRuntime.awrap(Analytics.logEvent(\"PackagesIcon\", {\n                name: \"PackagesIcon\",\n                screen: \"landingScreen\",\n                purpose: \"package open\"\n              }));\n\n            case 2:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this.calculateTotalOfferPrice = function (allServices) {\n      var totaloffer1 = 0;\n      var totaloffer2 = 0;\n      var totaloffer3 = 0;\n\n      _this.state.services.forEach(function (service, index) {\n        if (index == 0) {\n          var firstOffers = allServices.filter(function (ser) {\n            return ser.serviceid == service.serviceid;\n          });\n\n          if (service.is_same_price) {\n            totaloffer1 = firstOffers[0] ? firstOffers[0].price : 0;\n          } else {\n            firstOffers.forEach(function (offer) {\n              totaloffer1 = totaloffer1 + offer.t_price;\n            });\n          }\n        }\n\n        if (index == 1) {\n          var _firstOffers = allServices.filter(function (ser) {\n            return ser.serviceid == service.serviceid;\n          });\n\n          if (service.is_same_price) {\n            totaloffer2 = _firstOffers[0] ? _firstOffers[0].price : 0;\n          } else {\n            _firstOffers.forEach(function (offer) {\n              totaloffer2 = totaloffer2 + offer.t_price;\n            });\n          }\n        }\n\n        if (index == 2) {\n          var _firstOffers2 = allServices.filter(function (ser) {\n            return ser.serviceid == service.serviceid;\n          });\n\n          if (service.is_same_price) {\n            totaloffer3 = _firstOffers2[0] ? _firstOffers2[0].price : 0;\n          } else {\n            _firstOffers2.forEach(function (offer) {\n              totaloffer3 = totaloffer3 + offer.t_price;\n            });\n          }\n        }\n      });\n\n      _this.setState({\n        totalOfferOnePrice: totaloffer1,\n        totalOfferTwoPrice: totaloffer2,\n        totalOfferThreePrice: totaloffer3\n      });\n    };\n\n    _this.addRemoveIntoSelectedServices = function _callee2(job, add) {\n      var allServices, index, obj;\n      return _regeneratorRuntime.async(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              job.offerId = _this.state.deal.offerid;\n              allServices = _this.state.selectedServices;\n              index = allServices.findIndex(function (service) {\n                return service.id === job.id;\n              });\n\n              if (add === false && job.items > 0) {\n                allServices.splice(index, 1);\n\n                _this.setState({\n                  selectedServices: allServices\n                });\n              }\n\n              if (!(add === true)) {\n                _context2.next = 10;\n                break;\n              }\n\n              if (job.items < 1) {\n                allServices.splice(index, 1);\n\n                _this.setState({\n                  selectedServices: allServices\n                });\n              } else {\n                if (index > -1) {\n                  allServices[index] = job;\n                } else {\n                  allServices.push(job);\n                }\n\n                _this.setState({\n                  selectedServices: allServices\n                });\n              }\n\n              _this.calculateTotalOfferPrice(allServices);\n\n              obj = {\n                jobserviceName: _this.state.deal.offername,\n                jobserviceNameAr: _this.state.deal.offername_ar,\n                jobServiceIcon: _this.state.deal.offerimage,\n                jobs: allServices\n              };\n              _context2.next = 10;\n              return _regeneratorRuntime.awrap(AsyncStorage.setItem(\"packgaeJobs\", JSON.stringify(obj)));\n\n            case 10:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this.minus = function (job) {\n      if (job.items && job.items >= 1) {\n        job.items--;\n\n        if (job.choose_type == 3) {\n          job.t_price = 0;\n        } else {\n          job.t_price = job.id == 67 || job.id == 73 || job.id == 62 ? job.price : job.price * job.items;\n        }\n\n        if (job.items == 0) {\n          job.items = 0;\n          job.t_price = 0;\n          job.selected = false;\n        }\n\n        _this.addRemoveIntoSelectedServices(job, true);\n      } else {\n        job.items = 0;\n        job.t_price = 0;\n        job.selected = false;\n\n        _this.addRemoveIntoSelectedServices(job, false);\n      }\n    };\n\n    _this.plus = function (job) {\n      if (job.items) job.items++;else job.items = 1;\n\n      if (job.choose_type == 3) {\n        job.t_price = 0;\n      } else {\n        job.t_price = job.id == 67 || job.id == 73 || job.id == 62 ? job.price : job.price * job.items;\n      }\n\n      job.selected = true;\n\n      _this.addRemoveIntoSelectedServices(job, true);\n    };\n\n    _this.checkOutOrder = function _callee3() {\n      var _ref, _ref2, _ref3, _ref4, _ref5;\n\n      var pruductsCatOneChooseType1, pruductsCatTwoChooseType1, pruductsCatThreeChooseType1, pruductsCatFourChooseType1, pruductsCatFiveChooseType1, secOne, secTwo, secThree, secFour, secFive, index;\n      return _regeneratorRuntime.async(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              pruductsCatOneChooseType1 = (_ref = [], _ref);\n              pruductsCatTwoChooseType1 = (_ref2 = [], _ref2);\n              pruductsCatThreeChooseType1 = (_ref3 = [], _ref3);\n              pruductsCatFourChooseType1 = (_ref4 = [], _ref4);\n              pruductsCatFiveChooseType1 = (_ref5 = [], _ref5);\n              secOne = false;\n              secTwo = false;\n              secThree = false;\n              secFour = false;\n              secFive = false;\n              index = 0;\n\n              if (_this.state.deal.offerid !== 1 && _this.state.selectedServices.length > 0) {\n                _this.state.services.forEach(function (service) {\n                  if (service.products) {\n                    service.products.forEach(function (product) {\n                      index = index + 1;\n\n                      if (index == 1) {\n                        if (product.choose_type == 1) {\n                          secOne = true;\n                        }\n\n                        pruductsCatOneChooseType1 = product.jobs.filter(function (p) {\n                          return p.selected == true && p.choose_type == 1;\n                        });\n                      }\n\n                      if (index == 2) {\n                        if (product.choose_type == 1) {\n                          secTwo = true;\n                        }\n\n                        pruductsCatTwoChooseType1 = product.jobs.filter(function (p) {\n                          return p.selected == true && p.choose_type == 1;\n                        });\n                      }\n\n                      if (index == 3) {\n                        if (product.choose_type == 1) {\n                          secThree = true;\n                        }\n\n                        pruductsCatThreeChooseType1 = product.jobs.filter(function (p) {\n                          return p.selected == true && p.choose_type == 1;\n                        });\n                      }\n\n                      if (index == 4) {\n                        if (product.choose_type == 1) {\n                          secFour = true;\n                        }\n\n                        pruductsCatFourChooseType1 = product.jobs.filter(function (p) {\n                          return p.selected == true && p.choose_type == 1;\n                        });\n                      }\n\n                      if (index == 5) {\n                        if (product.choose_type == 1) {\n                          secFive = true;\n                        }\n\n                        pruductsCatFiveChooseType1 = product.jobs.filter(function (p) {\n                          return p.selected == true && p.choose_type == 1;\n                        });\n                      }\n                    });\n                  }\n                });\n\n                if (_this.state.selectedServices.length > 0 && secOne == true && pruductsCatOneChooseType1.length > 0 || secOne == false) {\n                  if (secTwo == true && pruductsCatTwoChooseType1.length > 0 || secTwo == false) {\n                    if (secThree == true && pruductsCatThreeChooseType1.length > 0 || secThree == false) {\n                      if (secFour == true && pruductsCatFourChooseType1.length > 0 || secFour == false) {\n                        if (secFive == true && pruductsCatFiveChooseType1.length > 0 || secFive == false) {\n                          _this.props.navigation.navigate(\"MyCart\", {\n                            lan: _this.state.lan,\n                            isPackage: true\n                          });\n                        } else {\n                          Toast.show({\n                            text: _this.state.lan == \"en\" ? \"Select Atleast 1 of the required services\" : \"اختر خدمة واحدة على الأقل من الخدمات المطلوبة\",\n                            position: \"bottom\"\n                          });\n                        }\n                      } else {\n                        Toast.show({\n                          text: _this.state.lan == \"en\" ? \"Select Atleast 1 of the required services\" : \"اختر خدمة واحدة على الأقل من الخدمات المطلوبة\",\n                          position: \"bottom\"\n                        });\n                      }\n                    } else {\n                      Toast.show({\n                        text: _this.state.lan == \"en\" ? \"Select Atleast 1 of the required services\" : \"اختر خدمة واحدة على الأقل من الخدمات المطلوبة\",\n                        position: \"bottom\"\n                      });\n                    }\n                  } else {\n                    Toast.show({\n                      text: _this.state.lan == \"en\" ? \"Select Atleast 1 of the required services\" : \"اختر خدمة واحدة على الأقل من الخدمات المطلوبة\",\n                      position: \"bottom\"\n                    });\n                  }\n                } else {\n                  Toast.show({\n                    text: _this.state.lan == \"en\" ? \"Select Atleast 1 of the required services\" : \"اختر خدمة واحدة على الأقل من الخدمات المطلوبة\",\n                    position: \"bottom\"\n                  });\n                }\n              } else {\n                if (_this.state.selectedServices.length > 0) {\n                  _this.props.navigation.navigate(\"MyCart\", {\n                    lan: _this.state.lan,\n                    isPackage: true\n                  });\n                } else {\n                  Toast.show({\n                    text: _this.state.lan == \"en\" ? \"Select Atleast 1 of the required services\" : \"اختر خدمة واحدة على الأقل من الخدمات المطلوبة\",\n                    position: \"bottom\"\n                  });\n                }\n              }\n\n              _context3.next = 14;\n              return _regeneratorRuntime.awrap(Analytics.logEvent(\"PackagesCheckout\", {\n                name: \"PackagesCheckout\",\n                screen: \"packageScreen\",\n                purpose: \"package checkout\"\n              }));\n\n            case 14:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this.state = {\n      lan: \"en\",\n      services: [],\n      deal: {},\n      totalOfferOnePrice: 0,\n      totalOfferTwoPrice: 0,\n      totalOfferThreePrice: 0,\n      selectedServices: [],\n      lan: \"en\",\n      loading: false\n    };\n    return _this;\n  }\n\n  _createClass(PackageOfferScreen, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var navigation = this.props.navigation;\n      var lan = navigation.getParam(\"lan\");\n      return React.createElement(View, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 432,\n          columnNumber: 7\n        }\n      }, React.createElement(Header, {\n        style: {\n          marginTop: 0,\n          borderBottomWidth: 1,\n          borderBottomColor: \"#0866b0\",\n          backgroundColor: \"#ffffff\",\n          height: 60,\n          justifyContent: \"center\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 433,\n          columnNumber: 9\n        }\n      }, React.createElement(Left, {\n        style: {\n          marginLeft: 10\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 443,\n          columnNumber: 11\n        }\n      }, React.createElement(Ionicons, {\n        onPress: function onPress() {\n          return _this2.props.navigation.goBack();\n        },\n        name: lan == \"en\" ? \"chevron-back-outline\" : \"chevron-forward-outline\",\n        size: 40,\n        color: \"#0866b0\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 444,\n          columnNumber: 13\n        }\n      })), React.createElement(View, {\n        style: {\n          flex: 2,\n          justifyContent: \"center\",\n          alignItems: \"center\",\n          position: Platform.OS === \"android\" ? \"absolute\" : \"relative\",\n          alignSelf: \"center\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 453,\n          columnNumber: 11\n        }\n      }, React.createElement(Title, {\n        style: {\n          fontFamily: \"montserrat_semi_blod\",\n          color: \"#0866b0\",\n          fontSize: 18\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 462,\n          columnNumber: 13\n        }\n      }, this.state.lan == \"en\" ? this.state.deal.offername : this.state.deal.offername_ar)), React.createElement(Right, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 474,\n          columnNumber: 11\n        }\n      })), React.createElement(View, {\n        style: {\n          height: Dimensions.get(\"screen\").height - 137\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 477,\n          columnNumber: 9\n        }\n      }, React.createElement(LinearGradient, {\n        colors: [\"#0764af\", \"#6ea8cd\"],\n        start: [0.9, 0.2],\n        end: [0.1, 0.1],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 482,\n          columnNumber: 11\n        }\n      }, React.createElement(Spinner, {\n        visible: this.state.loading,\n        textContent: \"\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 487,\n          columnNumber: 13\n        }\n      }), React.createElement(View, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 488,\n          columnNumber: 13\n        }\n      }, React.createElement(Image, {\n        source: {\n          uri: \"http://ec2-13-234-48-248.ap-south-1.compute.amazonaws.com/wf/\" + this.state.deal.offerbanner\n        },\n        style: {\n          width: Dimensions.get(\"screen\").width - 10,\n          marginTop: -28,\n          height: 199,\n          alignSelf: \"center\"\n        },\n        resizeMode: \"contain\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 489,\n          columnNumber: 15\n        }\n      })), React.createElement(View, {\n        style: {\n          alignSelf: \"center\",\n          marginLeft: 12,\n          marginRight: 12,\n          marginBottom: 16\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 504,\n          columnNumber: 13\n        }\n      }, React.createElement(Text, {\n        style: {\n          color: \"white\",\n          fontSize: 12,\n          textAlign: \"justify\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 512,\n          columnNumber: 15\n        }\n      }, this.state.lan == \"en\" ? this.state.deal.offerdescription : this.state.deal.offerdescription_ar)), React.createElement(View, {\n        style: {\n          height: Dimensions.get(\"screen\").height - 490,\n          borderTopColor: \"lightgray\",\n          marginLeft: 8,\n          marginRight: 8,\n          marginBottom: 90\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 520,\n          columnNumber: 13\n        }\n      }, React.createElement(ScrollView, {\n        contentContainerStyle: {\n          backgroundColor: \"white\",\n          borderTopWidth: 1,\n          borderTopLeftRadius: 10,\n          borderTopRightRadius: 10,\n          borderBottomLeftRadius: 10,\n          borderBottomRightRadius: 10,\n          borderTopColor: \"lightgray\",\n          paddingBottom: 20\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 533,\n          columnNumber: 15\n        }\n      }, this.state.services && this.state.services.map(function (service, index) {\n        return React.createElement(View, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 551,\n            columnNumber: 25\n          }\n        }, React.createElement(View, {\n          style: {\n            flexDirection: \"row\",\n            justifyContent: \"space-between\",\n            margin: 8,\n            alignItems: \"center\"\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 552,\n            columnNumber: 27\n          }\n        }, React.createElement(View, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 560,\n            columnNumber: 29\n          }\n        }, React.createElement(Text, {\n          style: {\n            fontSize: 14,\n            fontWeight: \"bold\",\n            color: \"4a4b4c\"\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 561,\n            columnNumber: 31\n          }\n        }, this.state.lan == \"en\" ? service.servicename : service.servicename_ar)), React.createElement(View, {\n          style: {\n            flexDirection: lan == \"en\" ? \"row\" : \"row-reverse\"\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 573,\n            columnNumber: 29\n          }\n        }, React.createElement(Text, {\n          style: {\n            fontSize: 10,\n            color: \"#0764af\",\n            fontWeight: \"bold\"\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 579,\n            columnNumber: 31\n          }\n        }, \"Total SAR\", \" \"), React.createElement(Text, {\n          style: {\n            color: \"#ff9c00\",\n            fontSize: 10\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 588,\n            columnNumber: 31\n          }\n        }, index == 0 ? this.state.totalOfferOnePrice : index == 1 ? this.state.totalOfferTwoPrice : index == 2 ? this.state.totalOfferThreePrice : 0, \" \"))), service.jobs && service.jobs.map(function (job, index) {\n          return React.createElement(DealJob, {\n            job: job,\n            minus: this.minus,\n            plus: this.plus,\n            lan: this.state.lan,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 603,\n              columnNumber: 35\n            }\n          });\n        }.bind(this)), service.products && service.products.map(function (product, index) {\n          return React.createElement(View, {\n            style: {\n              flex: 1\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 616,\n              columnNumber: 35\n            }\n          }, React.createElement(View, {\n            style: {\n              marginTop: 5,\n              flex: 1,\n              alignSelf: \"center\",\n              width: Dimensions.get(\"screen\").width - 30,\n              height: 1,\n              backgroundColor: \"lightgray\"\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 617,\n              columnNumber: 37\n            }\n          }), React.createElement(View, {\n            style: {\n              alignSelf: \"center\"\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 628,\n              columnNumber: 37\n            }\n          }, React.createElement(Text, {\n            style: {\n              fontSize: 12,\n              color: \"#0764af\",\n              flexWrap: \"wrap\",\n              fontWeight: \"bold\",\n              textAlign: \"center\"\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 633,\n              columnNumber: 39\n            }\n          }, this.state.lan == \"en\" ? product.title : product.title_ar)), React.createElement(View, {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 647,\n              columnNumber: 37\n            }\n          }, product.jobs.map(function (job, index) {\n            return React.createElement(DealJob, {\n              job: job,\n              plus: this.plus,\n              minus: this.minus,\n              lan: this.state.lan,\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 651,\n                columnNumber: 45\n              }\n            });\n          }.bind(this))));\n        }.bind(this)), React.createElement(View, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 665,\n            columnNumber: 27\n          }\n        }));\n      }.bind(this)))))), React.createElement(View, {\n        style: {\n          backgroundColor: \"white\",\n          borderWidth: 0,\n          height: 90,\n          position: \"absolute\",\n          bottom: 0,\n          alignSelf: \"center\",\n          width: \"100%\",\n          marginBottom: 0,\n          justifyContent: \"center\",\n          alignItems: \"center\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 674,\n          columnNumber: 9\n        }\n      }, React.createElement(TouchableOpacity, {\n        onPress: this.checkOutOrder,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 688,\n          columnNumber: 11\n        }\n      }, React.createElement(View, {\n        style: {\n          backgroundColor: \"#0764af\",\n          borderRadius: 12,\n          width: Dimensions.get(\"screen\").width - 120,\n          alignSelf: \"center\",\n          justifyContent: \"center\",\n          marginBottom: 0\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 689,\n          columnNumber: 13\n        }\n      }, React.createElement(LinearGradient, {\n        colors: [\"#0764af\", \"#6ea8cd\"],\n        start: [0.9, 0.2],\n        end: [0.1, 0.1],\n        style: {\n          borderRadius: 12\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 699,\n          columnNumber: 15\n        }\n      }, React.createElement(Text, {\n        style: {\n          color: \"white\",\n          margin: 12,\n          alignSelf: \"center\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 705,\n          columnNumber: 17\n        }\n      }, this.state.lan == \"en\" ? \"Check out\" : \"تقديم الطلب\", \"\\t\", \" \", \"\\t\", \"SAR\", \" \", this.state.totalOfferOnePrice + this.state.totalOfferTwoPrice + this.state.totalOfferThreePrice))))));\n    }\n  }]);\n\n  return PackageOfferScreen;\n}(React.Component);\n\nexport { PackageOfferScreen as default };","map":{"version":3,"sources":["/Users/sx/Documents/React Native/Foren Tech/consumer_latest/screens/packageOffer.js"],"names":["React","AsyncStorage","Container","Toast","Title","Header","Content","Text","Left","Right","Footer","Ionicons","LinearGradient","DealJob","Spinner","Analytics","ScrollView","PackageOfferScreen","props","getPackage","offerid","lan","fetch","method","headers","Accept","body","JSON","stringify","then","response","json","responseJson","error","setState","services","offer","deal","loading","clearSelectedServices","catch","compare","a","b","choose_type","sortServices","forEach","service","products","sort","componentDidUpdate","console","log","state","componentDidMount","navigation","getParam","logPackageEvent","product","jobs","job","selected","items","logEvent","name","screen","purpose","calculateTotalOfferPrice","allServices","totaloffer1","totaloffer2","totaloffer3","index","firstOffers","filter","ser","serviceid","is_same_price","price","t_price","totalOfferOnePrice","totalOfferTwoPrice","totalOfferThreePrice","addRemoveIntoSelectedServices","add","offerId","selectedServices","findIndex","id","splice","push","obj","jobserviceName","offername","jobserviceNameAr","offername_ar","jobServiceIcon","offerimage","setItem","minus","plus","checkOutOrder","pruductsCatOneChooseType1","pruductsCatTwoChooseType1","pruductsCatThreeChooseType1","pruductsCatFourChooseType1","pruductsCatFiveChooseType1","secOne","secTwo","secThree","secFour","secFive","length","p","navigate","isPackage","show","text","position","marginTop","borderBottomWidth","borderBottomColor","backgroundColor","height","justifyContent","marginLeft","goBack","flex","alignItems","Platform","OS","alignSelf","fontFamily","color","fontSize","Dimensions","get","uri","offerbanner","width","marginRight","marginBottom","textAlign","offerdescription","offerdescription_ar","borderTopColor","borderTopWidth","borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius","paddingBottom","map","flexDirection","margin","fontWeight","servicename","servicename_ar","bind","flexWrap","title","title_ar","borderWidth","bottom","borderRadius","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport {\n  View,\n  Image,\n  AsyncStorage,\n  Dimensions,\n  TouchableOpacity,\n} from \"react-native\";\nimport {\n  Container,\n  Toast,\n  Title,\n  Header,\n  Content,\n  Text,\n  Left,\n  Right,\n  Footer,\n} from \"native-base\";\nimport { Ionicons } from \"@expo/vector-icons\";\nimport { LinearGradient } from \"expo-linear-gradient\";\nimport DealJob from \"./deals/dealJob\";\nimport Spinner from \"react-native-loading-spinner-overlay\";\nimport * as Analytics from \"expo-firebase-analytics\";\nimport { ScrollView } from \"react-native-gesture-handler\";\n\nexport default class PackageOfferScreen extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      lan: \"en\",\n      services: [],\n      deal: {},\n      totalOfferOnePrice: 0,\n      totalOfferTwoPrice: 0,\n      totalOfferThreePrice: 0,\n      selectedServices: [],\n      lan: \"en\",\n      loading: false,\n    };\n  }\n  getPackage = (offerid, lan) => {\n    fetch(\n      \"http://ec2-13-234-48-248.ap-south-1.compute.amazonaws.com/wf/V1.2/get_offer\",\n      {\n        method: \"POST\",\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({\n          offerid: offerid,\n        }),\n      }\n    )\n      .then((response) => response.json())\n      .then((responseJson) => {\n        if (responseJson.error == false) {\n          this.setState({\n            services: responseJson.offer.services,\n            deal: responseJson.offer,\n            lan: lan,\n            loading: false,\n          });\n          this.clearSelectedServices(responseJson.offer.services);\n        } else {\n          this.setState({ loading: false });\n        }\n      })\n      .catch((error) => {\n        this.setState({ loading: false });\n      });\n  };\n  compare = (a, b) => {\n    if (a.choose_type == 3) {\n      return -1;\n    }\n    if (a.choose_type == 1) {\n      return 1;\n    }\n    return 0;\n  };\n  sortServices = (services) => {\n    services.forEach((service) => {\n      service.products.sort(this.compare);\n    });\n    this.setState({ services: services });\n  };\n\n  componentDidUpdate = () => {\n    // state.product\n    console.log(\"services\", this.state.services);\n    console.log(\"Deal\", this.state.deal);\n  };\n\n  componentDidMount = () => {\n    const { navigation } = this.props;\n    if (navigation.getParam(\"isOffer\")) {\n      this.setState({ loading: true });\n      this.getPackage(\n        navigation.getParam(\"offerid\"),\n        navigation.getParam(\"lan\")\n      );\n    } else {\n      this.sortServices(navigation.getParam(\"deal\").services);\n      this.setState({\n        lan: navigation.getParam(\"lan\"),\n        deal: navigation.getParam(\"deal\"),\n      });\n      this.clearSelectedServices(navigation.getParam(\"deal\").services);\n    }\n\n    this.logPackageEvent();\n  };\n  clearSelectedServices = (services) => {\n    services.forEach((service) => {\n      if (service.products) {\n        service.products.forEach((product) => {\n          product.jobs.forEach((job) => {\n            if (job.selected && job.selected == true) {\n              (job.selected = false), (job.items = 0);\n            }\n          });\n        });\n      } else {\n        service.jobs.forEach((job) => {\n          if (job.selected && job.selected == true) {\n            (job.selected = false), (job.items = 0);\n          }\n        });\n      }\n    });\n  };\n  logPackageEvent = async () => {\n    await Analytics.logEvent(\"PackagesIcon\", {\n      name: \"PackagesIcon\",\n      screen: \"landingScreen\",\n      purpose: \"package open\",\n    });\n  };\n  calculateTotalOfferPrice = (allServices) => {\n    let totaloffer1 = 0;\n    let totaloffer2 = 0;\n    let totaloffer3 = 0;\n    this.state.services.forEach(function (service, index) {\n      if (index == 0) {\n        let firstOffers = allServices.filter(\n          (ser) => ser.serviceid == service.serviceid\n        );\n        if (service.is_same_price) {\n          totaloffer1 = firstOffers[0] ? firstOffers[0].price : 0;\n        } else {\n          firstOffers.forEach((offer) => {\n            totaloffer1 = totaloffer1 + offer.t_price;\n          });\n        }\n      }\n      if (index == 1) {\n        let firstOffers = allServices.filter(\n          (ser) => ser.serviceid == service.serviceid\n        );\n        if (service.is_same_price) {\n          totaloffer2 = firstOffers[0] ? firstOffers[0].price : 0;\n        } else {\n          firstOffers.forEach((offer) => {\n            totaloffer2 = totaloffer2 + offer.t_price;\n          });\n        }\n      }\n      if (index == 2) {\n        let firstOffers = allServices.filter(\n          (ser) => ser.serviceid == service.serviceid\n        );\n        if (service.is_same_price) {\n          totaloffer3 = firstOffers[0] ? firstOffers[0].price : 0;\n        } else {\n          firstOffers.forEach((offer) => {\n            totaloffer3 = totaloffer3 + offer.t_price;\n          });\n        }\n      }\n    });\n    this.setState({\n      totalOfferOnePrice: totaloffer1,\n      totalOfferTwoPrice: totaloffer2,\n      totalOfferThreePrice: totaloffer3,\n    });\n  };\n  addRemoveIntoSelectedServices = async (job, add) => {\n    job.offerId = this.state.deal.offerid;\n\n    let allServices = this.state.selectedServices;\n    let index = allServices.findIndex((service) => service.id === job.id);\n\n    if (add === false && job.items > 0) {\n      allServices.splice(index, 1);\n\n      this.setState({ selectedServices: allServices });\n    }\n    if (add === true) {\n      if (job.items < 1) {\n        allServices.splice(index, 1);\n\n        this.setState({\n          selectedServices: allServices,\n        });\n      } else {\n        if (index > -1) {\n          allServices[index] = job;\n        } else {\n          allServices.push(job);\n        }\n        this.setState({\n          selectedServices: allServices,\n        });\n      }\n      this.calculateTotalOfferPrice(allServices);\n      let obj = {\n        jobserviceName: this.state.deal.offername,\n        jobserviceNameAr: this.state.deal.offername_ar,\n        jobServiceIcon: this.state.deal.offerimage,\n\n        jobs: allServices,\n      };\n      await AsyncStorage.setItem(\"packgaeJobs\", JSON.stringify(obj));\n    }\n  };\n  minus = (job) => {\n    if (job.items && job.items >= 1) {\n      job.items--;\n      if (job.choose_type == 3) {\n        job.t_price = 0;\n      } else {\n        job.t_price =\n          job.id == 67 || job.id == 73 || job.id == 62\n            ? job.price\n            : job.price * job.items;\n      }\n\n      if (job.items == 0) {\n        job.items = 0;\n        job.t_price = 0;\n        job.selected = false;\n      }\n      this.addRemoveIntoSelectedServices(job, true);\n    } else {\n      job.items = 0;\n      job.t_price = 0;\n      job.selected = false;\n      this.addRemoveIntoSelectedServices(job, false);\n    }\n  };\n  plus = (job) => {\n    if (job.items) job.items++;\n    else job.items = 1;\n    if (job.choose_type == 3) {\n      job.t_price = 0;\n    } else {\n      job.t_price =\n        job.id == 67 || job.id == 73 || job.id == 62\n          ? job.price\n          : job.price * job.items;\n    }\n\n    job.selected = true;\n    this.addRemoveIntoSelectedServices(job, true);\n  };\n  checkOutOrder = async () => {\n    let pruductsCatOneChooseType1 = ([] = []);\n    let pruductsCatTwoChooseType1 = ([] = []);\n    let pruductsCatThreeChooseType1 = ([] = []);\n    let pruductsCatFourChooseType1 = ([] = []);\n    let pruductsCatFiveChooseType1 = ([] = []);\n\n    let secOne = false;\n    let secTwo = false;\n    let secThree = false;\n    let secFour = false;\n    let secFive = false;\n    let index = 0;\n\n    if (\n      this.state.deal.offerid !== 1 &&\n      this.state.selectedServices.length > 0\n    ) {\n      this.state.services.forEach((service) => {\n        if (service.products) {\n          service.products.forEach((product) => {\n            index = index + 1;\n            if (index == 1) {\n              if (product.choose_type == 1) {\n                secOne = true;\n              }\n              pruductsCatOneChooseType1 = product.jobs.filter(\n                (p) => p.selected == true && p.choose_type == 1\n              );\n            }\n            if (index == 2) {\n              if (product.choose_type == 1) {\n                secTwo = true;\n              }\n              pruductsCatTwoChooseType1 = product.jobs.filter(\n                (p) => p.selected == true && p.choose_type == 1\n              );\n            }\n            if (index == 3) {\n              if (product.choose_type == 1) {\n                secThree = true;\n              }\n              pruductsCatThreeChooseType1 = product.jobs.filter(\n                (p) => p.selected == true && p.choose_type == 1\n              );\n            }\n            if (index == 4) {\n              if (product.choose_type == 1) {\n                secFour = true;\n              }\n              pruductsCatFourChooseType1 = product.jobs.filter(\n                (p) => p.selected == true && p.choose_type == 1\n              );\n            }\n            if (index == 5) {\n              if (product.choose_type == 1) {\n                secFive = true;\n              }\n              pruductsCatFiveChooseType1 = product.jobs.filter(\n                (p) => p.selected == true && p.choose_type == 1\n              );\n            }\n          });\n        }\n      });\n      if (\n        (this.state.selectedServices.length > 0 &&\n          secOne == true &&\n          pruductsCatOneChooseType1.length > 0) ||\n        secOne == false\n      ) {\n        if (\n          (secTwo == true && pruductsCatTwoChooseType1.length > 0) ||\n          secTwo == false\n        ) {\n          if (\n            (secThree == true && pruductsCatThreeChooseType1.length > 0) ||\n            secThree == false\n          ) {\n            if (\n              (secFour == true && pruductsCatFourChooseType1.length > 0) ||\n              secFour == false\n            ) {\n              if (\n                (secFive == true && pruductsCatFiveChooseType1.length > 0) ||\n                secFive == false\n              ) {\n                this.props.navigation.navigate(\"MyCart\", {\n                  lan: this.state.lan,\n                  isPackage: true,\n                });\n              } else {\n                Toast.show({\n                  text:\n                    this.state.lan == \"en\"\n                      ? \"Select Atleast 1 of the required services\"\n                      : \"اختر خدمة واحدة على الأقل من الخدمات المطلوبة\",\n                  position: \"bottom\",\n                });\n              }\n            } else {\n              Toast.show({\n                text:\n                  this.state.lan == \"en\"\n                    ? \"Select Atleast 1 of the required services\"\n                    : \"اختر خدمة واحدة على الأقل من الخدمات المطلوبة\",\n                position: \"bottom\",\n              });\n            }\n          } else {\n            Toast.show({\n              text:\n                this.state.lan == \"en\"\n                  ? \"Select Atleast 1 of the required services\"\n                  : \"اختر خدمة واحدة على الأقل من الخدمات المطلوبة\",\n              position: \"bottom\",\n            });\n          }\n        } else {\n          Toast.show({\n            text:\n              this.state.lan == \"en\"\n                ? \"Select Atleast 1 of the required services\"\n                : \"اختر خدمة واحدة على الأقل من الخدمات المطلوبة\",\n            position: \"bottom\",\n          });\n        }\n      } else {\n        Toast.show({\n          text:\n            this.state.lan == \"en\"\n              ? \"Select Atleast 1 of the required services\"\n              : \"اختر خدمة واحدة على الأقل من الخدمات المطلوبة\",\n          position: \"bottom\",\n        });\n      }\n    } else {\n      if (this.state.selectedServices.length > 0) {\n        this.props.navigation.navigate(\"MyCart\", {\n          lan: this.state.lan,\n          isPackage: true,\n        });\n      } else {\n        Toast.show({\n          text:\n            this.state.lan == \"en\"\n              ? \"Select Atleast 1 of the required services\"\n              : \"اختر خدمة واحدة على الأقل من الخدمات المطلوبة\",\n          position: \"bottom\",\n        });\n      }\n    }\n\n    await Analytics.logEvent(\"PackagesCheckout\", {\n      name: \"PackagesCheckout\",\n      screen: \"packageScreen\",\n      purpose: \"package checkout\",\n    });\n  };\n  render() {\n    const { navigation } = this.props;\n    var lan = navigation.getParam(\"lan\");\n\n    return (\n      <View>\n        <Header\n          style={{\n            marginTop: 0,\n            borderBottomWidth: 1,\n            borderBottomColor: \"#0866b0\",\n            backgroundColor: \"#ffffff\",\n            height: 60,\n            justifyContent: \"center\",\n          }}\n        >\n          <Left style={{ marginLeft: 10 }}>\n            <Ionicons\n              onPress={() => this.props.navigation.goBack()}\n              name={\n                lan == \"en\" ? \"chevron-back-outline\" : \"chevron-forward-outline\"\n              }\n              size={40}\n              color={\"#0866b0\"}\n            />\n          </Left>\n          <View\n            style={{\n              flex: 2,\n              justifyContent: \"center\",\n              alignItems: \"center\",\n              position: Platform.OS === \"android\" ? \"absolute\" : \"relative\",\n              alignSelf: \"center\",\n            }}\n          >\n            <Title\n              style={{\n                fontFamily: \"montserrat_semi_blod\",\n                color: \"#0866b0\",\n                fontSize: 18,\n              }}\n            >\n              {this.state.lan == \"en\"\n                ? this.state.deal.offername\n                : this.state.deal.offername_ar}\n            </Title>\n          </View>\n          <Right />\n        </Header>\n\n        <View\n          style={{\n            height: Dimensions.get(\"screen\").height - 137,\n          }}\n        >\n          <LinearGradient\n            colors={[\"#0764af\", \"#6ea8cd\"]}\n            start={[0.9, 0.2]}\n            end={[0.1, 0.1]}\n          >\n            <Spinner visible={this.state.loading} textContent={\"\"} />\n            <View>\n              <Image\n                source={{\n                  uri:\n                    \"http://ec2-13-234-48-248.ap-south-1.compute.amazonaws.com/wf/\" +\n                    this.state.deal.offerbanner,\n                }}\n                style={{\n                  width: Dimensions.get(\"screen\").width - 10,\n                  marginTop: -28,\n                  height: 199,\n                  alignSelf: \"center\",\n                }}\n                resizeMode=\"contain\"\n              />\n            </View>\n            <View\n              style={{\n                alignSelf: \"center\",\n                marginLeft: 12,\n                marginRight: 12,\n                marginBottom: 16,\n              }}\n            >\n              <Text\n                style={{ color: \"white\", fontSize: 12, textAlign: \"justify\" }}\n              >\n                {this.state.lan == \"en\"\n                  ? this.state.deal.offerdescription\n                  : this.state.deal.offerdescription_ar}\n              </Text>\n            </View>\n            <View\n              style={{\n                // height: Dimensions.get(\"screen\").height - 495, //470\n                height: Dimensions.get(\"screen\").height - 490,\n                // borderTopWidth: 1,\n                // borderTopLeftRadius: 20,\n                // borderTopRightRadius: 20,\n                borderTopColor: \"lightgray\",\n                marginLeft: 8,\n                marginRight: 8,\n                marginBottom: 90,\n              }}\n            >\n              <ScrollView\n                contentContainerStyle={{\n                  backgroundColor: \"white\",\n\n                  borderTopWidth: 1,\n                  borderTopLeftRadius: 10,\n                  borderTopRightRadius: 10,\n                  // borderBottomWidth: 1,\n                  borderBottomLeftRadius: 10,\n                  borderBottomRightRadius: 10,\n                  borderTopColor: \"lightgray\",\n                  paddingBottom: 20, //marginBottom: 90,\n                }}\n              >\n                {this.state.services &&\n                  this.state.services.map(\n                    function (service, index) {\n                      return (\n                        <View>\n                          <View\n                            style={{\n                              flexDirection: \"row\",\n                              justifyContent: \"space-between\",\n                              margin: 8,\n                              alignItems: \"center\",\n                            }}\n                          >\n                            <View>\n                              <Text\n                                style={{\n                                  fontSize: 14,\n                                  fontWeight: \"bold\",\n                                  color: \"4a4b4c\",\n                                }}\n                              >\n                                {this.state.lan == \"en\"\n                                  ? service.servicename\n                                  : service.servicename_ar}\n                              </Text>\n                            </View>\n                            <View\n                              style={{\n                                flexDirection:\n                                  lan == \"en\" ? \"row\" : \"row-reverse\",\n                              }}\n                            >\n                              <Text\n                                style={{\n                                  fontSize: 10,\n                                  color: \"#0764af\",\n                                  fontWeight: \"bold\",\n                                }}\n                              >\n                                Total SAR{\" \"}\n                              </Text>\n                              <Text style={{ color: \"#ff9c00\", fontSize: 10 }}>\n                                {index == 0\n                                  ? this.state.totalOfferOnePrice\n                                  : index == 1\n                                  ? this.state.totalOfferTwoPrice\n                                  : index == 2\n                                  ? this.state.totalOfferThreePrice\n                                  : 0}{\" \"}\n                              </Text>\n                            </View>\n                          </View>\n                          {service.jobs &&\n                            service.jobs.map(\n                              function (job, index) {\n                                return (\n                                  <DealJob\n                                    job={job}\n                                    minus={this.minus}\n                                    plus={this.plus}\n                                    lan={this.state.lan}\n                                  />\n                                );\n                              }.bind(this)\n                            )}\n                          {service.products &&\n                            service.products.map(\n                              function (product, index) {\n                                return (\n                                  <View style={{ flex: 1 }}>\n                                    <View\n                                      style={{\n                                        marginTop: 5,\n                                        flex: 1,\n                                        alignSelf: \"center\",\n                                        width:\n                                          Dimensions.get(\"screen\").width - 30,\n                                        height: 1,\n                                        backgroundColor: \"lightgray\",\n                                      }}\n                                    ></View>\n                                    <View\n                                      style={{\n                                        alignSelf: \"center\",\n                                      }}\n                                    >\n                                      <Text\n                                        style={{\n                                          fontSize: 12,\n                                          color: \"#0764af\",\n                                          flexWrap: \"wrap\",\n                                          fontWeight: \"bold\",\n                                          textAlign: \"center\",\n                                        }}\n                                      >\n                                        {this.state.lan == \"en\"\n                                          ? product.title\n                                          : product.title_ar}\n                                      </Text>\n                                    </View>\n                                    <View>\n                                      {product.jobs.map(\n                                        function (job, index) {\n                                          return (\n                                            <DealJob\n                                              job={job}\n                                              plus={this.plus}\n                                              minus={this.minus}\n                                              lan={this.state.lan}\n                                            />\n                                          );\n                                        }.bind(this)\n                                      )}\n                                    </View>\n                                  </View>\n                                );\n                              }.bind(this)\n                            )}\n                          <View></View>\n                        </View>\n                      );\n                    }.bind(this)\n                  )}\n              </ScrollView>\n            </View>\n          </LinearGradient>\n        </View>\n        <View\n          style={{\n            backgroundColor: \"white\", // white\n            borderWidth: 0,\n            height: 90,\n            position: \"absolute\",\n            bottom: 0,\n            alignSelf: \"center\",\n            width: \"100%\",\n            marginBottom: 0,\n            justifyContent: \"center\",\n            alignItems: \"center\",\n          }}\n        >\n          <TouchableOpacity onPress={this.checkOutOrder}>\n            <View\n              style={{\n                backgroundColor: \"#0764af\", // backgroundColor: \"#0764af\",\n                borderRadius: 12,\n                width: Dimensions.get(\"screen\").width - 120,\n                alignSelf: \"center\",\n                justifyContent: \"center\",\n                marginBottom: 0,\n              }}\n            >\n              <LinearGradient\n                colors={[\"#0764af\", \"#6ea8cd\"]}\n                start={[0.9, 0.2]}\n                end={[0.1, 0.1]}\n                style={{ borderRadius: 12 }}\n              >\n                <Text\n                  style={{ color: \"white\", margin: 12, alignSelf: \"center\" }}\n                >\n                  {this.state.lan == \"en\" ? \"Check out\" : \"تقديم الطلب\"}\n                  {\"\\t\"} {\"\\t\"}SAR{\" \"}\n                  {this.state.totalOfferOnePrice +\n                    this.state.totalOfferTwoPrice +\n                    this.state.totalOfferThreePrice}\n                </Text>\n              </LinearGradient>\n            </View>\n          </TouchableOpacity>\n        </View>\n      </View>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}